/*! For license information please see field.js.LICENSE.txt */
(()=>{var t,e={1996:(t,e,r)=>{"use strict";const n=Vue;var i={key:0};function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(a,t);var e,r,n,i=d(a);function a(){var t;l(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return v(p(t=i.call.apply(i,[this].concat(r))),"fieldName",null),v(p(t),"rootComponent",null),t}return e=a,(r=[{key:"setFieldName",value:function(t){this.fieldName=t,this.fieldName.field&&(this.input=this.findField(this.fieldName.field),this.input&&(this.attachListener(),this.attachListerToDragarea())),this.fieldName.value&&this.setImage(this.fieldName.value)}},{key:"attachListerToDragarea",value:function(){var t=this;this.input.parentElement.addEventListener("drop",(function(e){s(e.dataTransfer.items).forEach((function(e,r){t.processFile(e.getAsFile())}))}))}},{key:"findField",value:function(t){var e=document.querySelectorAll('[dusk="'+t+'"]'),r=null;for(var n in e)"object"===o(e[n])&&"INPUT"==e[n].tagName&&(r=e[n]);return r}},{key:"attachListener",value:function(){var t=this;this.input.addEventListener("change",(function(e){var r=e.target.files[0];t.processFile(r)}))}},{key:"processFile",value:function(t){var e=this,r=new FileReader;r.readAsDataURL(t),r.onload=function(t){e.setImage(t.target.result),console.log(e)}}}])&&c(e.prototype,r),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(function(){function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=null,(r="image")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}var e,r,n;return e=t,(r=[{key:"setImage",value:function(t){this.image=t}}])&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());const m={props:["resource","resourceName","resourceId","field"],data:function(){return{input:null,backgroundWatcherHandler:null}},mounted:function(){var t=this;setTimeout((function(){t.attachEventListenerToInput()}),500)},methods:{attachEventListenerToInput:function(){if(this.field.image_field){var t=new y;t.setFieldName(this.field.image_field),this.backgroundWatcherHandler=t}this.field.image_source}}};var b=r(3744);const _=(0,b.Z)(m,[["render",function(t,e,r,a,o,s){var h=(0,n.resolveComponent)("stage");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[t.backgroundWatcherHandler?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[r.field.value&&r.field.value.width&&r.field.value.height?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,small:!0,value:r.field.value,onChange:t.handleChange,background:t.backgroundWatcherHandler.image,preview:!0},null,8,["value","onChange","background"])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])}]]);var w={key:0};const x={props:["resource","resourceName","resourceId","field"],data:function(){return{input:null,backgroundWatcherHandler:null}},mounted:function(){var t=this;setTimeout((function(){t.attachEventListenerToInput()}),500)},methods:{attachEventListenerToInput:function(){this.field.image_field&&(this.backgroundWatcherHandler=new y(this.field.image_field,this.$root)),this.field.image_source}}},S=(0,b.Z)(x,[["render",function(t,e,r,i,a,o){var s=(0,n.resolveComponent)("stage"),h=(0,n.resolveComponent)("PanelItem");return(0,n.openBlock)(),(0,n.createBlock)(h,{field:r.field},{default:(0,n.withCtx)((function(){return[t.backgroundWatcherHandler&&t.backgroundWatcherHandler.image?((0,n.openBlock)(),(0,n.createElementBlock)("div",w,[(0,n.createVNode)(s,{value:r.field.value,onChange:t.handleChange,background:t.backgroundWatcherHandler.image,preview:!0},null,8,["value","onChange","background"])])):(0,n.createCommentVNode)("",!0)]})),_:1},8,["field"])}]]);var C={key:0},P={key:0,style:{padding:"14px",width:"100%","background-color":"#b43a3a",color:"white","border-radius":"4px"}};var k=r(3906),O=r.n(k),A={preventInitialLoading:{type:Boolean,default:!1},showHelpText:{type:Boolean,default:!1},shownViaNewRelationModal:{type:Boolean,default:!1},resourceId:{type:[Number,String]},resourceName:{type:String},relatedResourceId:{type:[Number,String]},relatedResourceName:{type:String},field:{type:Object,required:!0},viaResource:{type:String,required:!1},viaResourceId:{type:[String,Number],required:!1},viaRelationship:{type:String,required:!1},relationshipType:{type:String,default:""},shouldOverrideMeta:{type:Boolean,default:!1},disablePagination:{type:Boolean,default:!1},clickAction:{type:String,default:"view",validator:function(t){return["edit","select","ignore","detail"].includes(t)}},mode:{type:String,default:"form",validator:function(t){return["form","modal"].includes(t)}}};function E(t){return O()(A,t)}function T(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==r.g?r.g:{}}const j="function"==typeof Proxy;let M,R;function I(){return void 0!==M||("undefined"!=typeof window&&window.performance?(M=!0,R=window.performance):void 0!==r.g&&(null===(t=r.g.perf_hooks)||void 0===t?void 0:t.performance)?(M=!0,R=r.g.perf_hooks.performance):M=!1),M?R.now():Date.now();var t}class L{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const r={};if(t.settings)for(const e in t.settings){const n=t.settings[e];r[e]=n.defaultValue}const n=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const t=localStorage.getItem(n),e=JSON.parse(t);Object.assign(i,e)}catch(t){}this.fallbacks={getSettings:()=>i,setSettings(t){try{localStorage.setItem(n,JSON.stringify(t))}catch(t){}i=t},now:()=>I()},e&&e.on("plugin:settings:set",((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((r=>{this.targetQueue.push({method:e,args:t,resolve:r})}))})}async setRealTarget(t){this.target=t;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function D(t,e){const r=t,n=T(),i=T().__VUE_DEVTOOLS_GLOBAL_HOOK__,a=j&&r.enableEarlyProxy;if(!i||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&a){const t=a?new L(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else i.emit("devtools-plugin:setup",t,e)}var F="store";function G(t,e){Object.keys(t).forEach((function(r){return e(t[r],r)}))}function N(t){return null!==t&&"object"==typeof t}function B(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function W(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;H(t,r,[],t._modules.root,!0),z(t,r,e)}function z(t,e,r){var i=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,o={};G(a,(function(e,r){o[r]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,r,{get:function(){return o[r]()},enumerable:!0})})),t._state=(0,n.reactive)({data:e}),t.strict&&function(t){(0,n.watch)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}(t),i&&r&&t._withCommit((function(){i.data=null}))}function H(t,e,r,n,i){var a=!r.length,o=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=n),!a&&!i){var s=V(e,r.slice(0,-1)),h=r[r.length-1];t._withCommit((function(){s[h]=n.state}))}var l=n.context=function(t,e,r){var n=""===e,i={dispatch:n?t.dispatch:function(r,n,i){var a=q(r,n,i),o=a.payload,s=a.options,h=a.type;return s&&s.root||(h=e+h),t.dispatch(h,o)},commit:n?t.commit:function(r,n,i){var a=q(r,n,i),o=a.payload,s=a.options,h=a.type;s&&s.root||(h=e+h),t.commit(h,o,s)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return U(t,e)}},state:{get:function(){return V(t.state,r)}}}),i}(t,o,r);n.forEachMutation((function(e,r){!function(t,e,r,n){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){r.call(t,n.state,e)}))}(t,o+r,e,l)})),n.forEachAction((function(e,r){var n=e.root?r:o+r,i=e.handler||e;!function(t,e,r,n){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i,a=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return(i=a)&&"function"==typeof i.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):a}))}(t,n,i,l)})),n.forEachGetter((function(e,r){!function(t,e,r,n){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return r(n.state,n.getters,t.state,t.getters)}}(t,o+r,e,l)})),n.forEachChild((function(n,a){H(t,e,r.concat(a),n,i)}))}function U(t,e){if(!t._makeLocalGettersCache[e]){var r={},n=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,n)===e){var a=i.slice(n);Object.defineProperty(r,a,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function V(t,e){return e.reduce((function(t,e){return t[e]}),t)}function q(t,e,r){return N(t)&&t.type&&(r=e,e=t,t=t.type),{type:t,payload:e,options:r}}var X="vuex:mutations",Y="vuex:actions",$="vuex",J=0;function K(t,e){D({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(r){r.addTimelineLayer({id:X,label:"Vuex Mutations",color:Q}),r.addTimelineLayer({id:Y,label:"Vuex Actions",color:Q}),r.addInspector({id:$,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree((function(r){if(r.app===t&&r.inspectorId===$)if(r.filter){var n=[];rt(n,e._modules.root,r.filter,""),r.rootNodes=n}else r.rootNodes=[et(e._modules.root,"")]})),r.on.getInspectorState((function(r){if(r.app===t&&r.inspectorId===$){var n=r.nodeId;U(e,n),r.state=function(t,e,r){e="root"===r?e:e[r];var n=Object.keys(e),i={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(n.length){var a=function(t){var e={};return Object.keys(t).forEach((function(r){var n=r.split("/");if(n.length>1){var i=e,a=n.pop();n.forEach((function(t){i[t]||(i[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),i=i[t]._custom.value})),i[a]=nt((function(){return t[r]}))}else e[r]=nt((function(){return t[r]}))})),e}(e);i.getters=Object.keys(a).map((function(t){return{key:t.endsWith("/")?tt(t):t,editable:!1,value:nt((function(){return a[t]}))}}))}return i}((i=e._modules,(o=(a=n).split("/").filter((function(t){return t}))).reduce((function(t,e,r){var n=t[e];if(!n)throw new Error('Missing module "'+e+'" for path "'+a+'".');return r===o.length-1?n:n._children}),"root"===a?i:i.root._children)),"root"===n?e.getters:e._makeLocalGettersCache,n)}var i,a,o})),r.on.editInspectorState((function(r){if(r.app===t&&r.inspectorId===$){var n=r.nodeId,i=r.path;"root"!==n&&(i=n.split("/").filter(Boolean).concat(i)),e._withCommit((function(){r.set(e._state.data,i,r.state.value)}))}})),e.subscribe((function(t,e){var n={};t.payload&&(n.payload=t.payload),n.state=e,r.notifyComponentUpdate(),r.sendInspectorTree($),r.sendInspectorState($),r.addTimelineEvent({layerId:X,event:{time:Date.now(),title:t.type,data:n}})})),e.subscribeAction({before:function(t,e){var n={};t.payload&&(n.payload=t.payload),t._id=J++,t._time=Date.now(),n.state=e,r.addTimelineEvent({layerId:Y,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:n}})},after:function(t,e){var n={},i=Date.now()-t._time;n.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},t.payload&&(n.payload=t.payload),n.state=e,r.addTimelineEvent({layerId:Y,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:n}})}})}))}var Q=8702998,Z={label:"namespaced",textColor:16777215,backgroundColor:6710886};function tt(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function et(t,e){return{id:e||"root",label:tt(e),tags:t.namespaced?[Z]:[],children:Object.keys(t._children).map((function(r){return et(t._children[r],e+r+"/")}))}}function rt(t,e,r,n){n.includes(r)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[Z]:[]}),Object.keys(e._children).forEach((function(i){rt(t,e._children[i],r,n+i+"/")}))}function nt(t){try{return t()}catch(t){return t}}var it=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=("function"==typeof r?r():r)||{}},at={namespaced:{configurable:!0}};at.namespaced.get=function(){return!!this._rawModule.namespaced},it.prototype.addChild=function(t,e){this._children[t]=e},it.prototype.removeChild=function(t){delete this._children[t]},it.prototype.getChild=function(t){return this._children[t]},it.prototype.hasChild=function(t){return t in this._children},it.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},it.prototype.forEachChild=function(t){G(this._children,t)},it.prototype.forEachGetter=function(t){this._rawModule.getters&&G(this._rawModule.getters,t)},it.prototype.forEachAction=function(t){this._rawModule.actions&&G(this._rawModule.actions,t)},it.prototype.forEachMutation=function(t){this._rawModule.mutations&&G(this._rawModule.mutations,t)},Object.defineProperties(it.prototype,at);var ot=function(t){this.register([],t,!1)};function st(t,e,r){if(e.update(r),r.modules)for(var n in r.modules){if(!e.getChild(n))return void 0;st(t.concat(n),e.getChild(n),r.modules[n])}}ot.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},ot.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,r){return t+((e=e.getChild(r)).namespaced?r+"/":"")}),"")},ot.prototype.update=function(t){st([],this.root,t)},ot.prototype.register=function(t,e,r){var n=this;void 0===r&&(r=!0);var i=new it(e,r);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&G(e.modules,(function(e,i){n.register(t.concat(i),e,r)}))},ot.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1],n=e.getChild(r);n&&n.runtime&&e.removeChild(r)},ot.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1];return!!e&&e.hasChild(r)};var ht=function(t){var e=this;void 0===t&&(t={});var r=t.plugins;void 0===r&&(r=[]);var n=t.strict;void 0===n&&(n=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ot(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var a=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(a,t,e)},this.commit=function(t,e,r){return s.call(a,t,e,r)},this.strict=n;var h=this._modules.root.state;H(this,h,[],this._modules.root),z(this,h),r.forEach((function(t){return t(e)}))},lt={state:{configurable:!0}};ht.prototype.install=function(t,e){t.provide(e||F,this),t.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&K(t,this)},lt.state.get=function(){return this._state.data},lt.state.set=function(t){0},ht.prototype.commit=function(t,e,r){var n=this,i=q(t,e,r),a=i.type,o=i.payload,s=(i.options,{type:a,payload:o}),h=this._mutations[a];h&&(this._withCommit((function(){h.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(s,n.state)})))},ht.prototype.dispatch=function(t,e){var r=this,n=q(t,e),i=n.type,a=n.payload,o={type:i,payload:a},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,r.state)}))}catch(t){0}var h=s.length>1?Promise.all(s.map((function(t){return t(a)}))):s[0](a);return new Promise((function(t,e){h.then((function(e){try{r._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,r.state)}))}catch(t){0}t(e)}),(function(t){try{r._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,r.state,t)}))}catch(t){0}e(t)}))}))}},ht.prototype.subscribe=function(t,e){return B(t,this._subscribers,e)},ht.prototype.subscribeAction=function(t,e){return B("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},ht.prototype.watch=function(t,e,r){var i=this;return(0,n.watch)((function(){return t(i.state,i.getters)}),e,Object.assign({},r))},ht.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},ht.prototype.registerModule=function(t,e,r){void 0===r&&(r={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),H(this,this.state,t,this._modules.get(t),r.preserveState),z(this,this.state)},ht.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete V(e.state,t.slice(0,-1))[t[t.length-1]]})),W(this)},ht.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},ht.prototype.hotUpdate=function(t){this._modules.update(t),W(this,!0)},ht.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(ht.prototype,lt);ft((function(t,e){var r={};return dt(e).forEach((function(e){var n=e.key,i=e.val;r[n]=function(){var e=this.$store.state,r=this.$store.getters;if(t){var n=pt(this.$store,"mapState",t);if(!n)return;e=n.context.state,r=n.context.getters}return"function"==typeof i?i.call(this,e,r):e[i]},r[n].vuex=!0})),r}));var ct=ft((function(t,e){var r={};return dt(e).forEach((function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=this.$store.commit;if(t){var a=pt(this.$store,"mapMutations",t);if(!a)return;n=a.context.commit}return"function"==typeof i?i.apply(this,[n].concat(e)):n.apply(this.$store,[i].concat(e))}})),r})),ut=ft((function(t,e){var r={};return dt(e).forEach((function(e){var n=e.key,i=e.val;i=t+i,r[n]=function(){if(!t||pt(this.$store,"mapGetters",t))return this.$store.getters[i]},r[n].vuex=!0})),r}));ft((function(t,e){var r={};return dt(e).forEach((function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=this.$store.dispatch;if(t){var a=pt(this.$store,"mapActions",t);if(!a)return;n=a.context.dispatch}return"function"==typeof i?i.apply(this,[n].concat(e)):n.apply(this.$store,[i].concat(e))}})),r}));function dt(t){return function(t){return Array.isArray(t)||N(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function ft(t){return function(e,r){return"string"!=typeof e?(r=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,r)}}function pt(t,e,r){return t._modulesNamespaceMap[r]}var gt=r(6649);function vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(r),!0).forEach((function(e){mt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}yt(yt({},ct(["allowLeavingForm","preventLeavingForm","triggerPushState","resetPushState"])),{},{updateFormStatus:function(){1==this.canLeaveForm&&this.triggerPushState(),this.preventLeavingForm()},handlePreventFormAbandonment:function(t,e){this.canLeaveForm?t():window.confirm(this.__("Do you really want to leave? You have unsaved changes."))?t():e()},handlePreventFormAbandonmentOnInertia:function(t){var e=this;this.handlePreventFormAbandonment((function(){e.handleProceedingToNextPage(),e.allowLeavingForm()}),(function(){gt.rC.ignoreHistoryState=!0,t.preventDefault(),t.returnValue="",e.removeOnNavigationChangesEvent=gt.rC.on("before",(function(t){e.removeOnNavigationChangesEvent(),e.handlePreventFormAbandonmentOnInertia(t)}))}))},handlePreventFormAbandonmentOnPopState:function(t){var e=this;t.stopImmediatePropagation(),t.stopPropagation(),this.handlePreventFormAbandonment((function(){e.handleProceedingToPreviousPage(),e.allowLeavingForm()}),(function(){e.triggerPushState()}))},handleProceedingToPreviousPage:function(){window.onpopstate=null,gt.rC.ignoreHistoryState=!1,this.removeOnBeforeUnloadEvent(),this.canLeaveFormToPreviousPage||window.history.back()},handleProceedingToNextPage:function(){window.onpopstate=null,gt.rC.ignoreHistoryState=!1,this.removeOnBeforeUnloadEvent()}}),yt({},ut(["canLeaveForm","canLeaveFormToPreviousPage"]));function bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(r),!0).forEach((function(e){wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Boolean,_t(_t({},ct(["allowLeavingModal","preventLeavingModal"])),{},{updateModalStatus:function(){this.preventLeavingModal()},handlePreventModalAbandonment:function(t,e){if(this.canLeaveModal)t();else{if(window.confirm(this.__("Do you really want to leave? You have unsaved changes.")))return this.allowLeavingModal(),void t();e()}}}),_t({},ut(["canLeaveModal"]));var xt=r(3950),St=r(6034),Ct=r.n(St),Pt=r(4442),kt=r.n(Pt),Ot=r(851),At=r.n(Ot),Et=r(2512),Tt=r.n(Et),jt=r(759),Mt=r.n(jt),Rt=r(5543),It=r.n(Rt),Lt=r(6534),Dt=r.n(Lt);function Ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(r),!0).forEach((function(e){Nt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(r),!0).forEach((function(e){zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Ht={extends:{extends:{props:{formUniqueId:{type:String}},methods:{emitFieldValue:function(t,e){Nova.$emit("".concat(t,"-value"),e),!0===this.hasFormUniqueId&&Nova.$emit("".concat(this.formUniqueId,"-").concat(t,"-value"),e)},emitFieldValueChange:function(t,e){Nova.$emit("".concat(t,"-change"),e),!0===this.hasFormUniqueId&&Nova.$emit("".concat(this.formUniqueId,"-").concat(t,"-change"),e)},getFieldAttributeValueEventName:function(t){return!0===this.hasFormUniqueId?"".concat(this.formUniqueId,"-").concat(t,"-value"):"".concat(t,"-value")},getFieldAttributeChangeEventName:function(t){return!0===this.hasFormUniqueId?"".concat(this.formUniqueId,"-").concat(t,"-change"):"".concat(t,"-change")}},computed:{hasFormUniqueId:function(){return!It()(this.formUniqueId)&&""!==this.formUniqueId},fieldAttributeValueEventName:function(){return this.getFieldAttributeValueEventName(this.field.attribute)},fieldAttributeChangeEventName:function(){return this.getFieldAttributeChangeEventName(this.field.attribute)}}},props:Gt(Gt({},E(["shownViaNewRelationModal","field","viaResource","viaResourceId","viaRelationship","resourceName","showHelpText","mode"])),{},{formUniqueId:{type:String}}),data:function(){return{value:""}},mounted:function(){this.setInitialValue(),this.field.fill=this.fill,Nova.$on(this.fieldAttributeValueEventName,this.listenToValueChanges)},beforeUnmount:function(){Nova.$off(this.fieldAttributeValueEventName,this.listenToValueChanges)},methods:{setInitialValue:function(){this.value=void 0!==this.field.value&&null!==this.field.value?this.field.value:""},fill:function(t){this.fillIfVisible(t,this.field.attribute,String(this.value))},fillIfVisible:function(t,e,r){this.isVisible&&t.append(e,r)},handleChange:function(t){this.value=t.target.value,this.field&&this.emitFieldValueChange(this.field.attribute,this.value)},listenToValueChanges:function(t){this.value=t}},computed:{isVisible:function(){return this.field.visible},isReadonly:function(){return Boolean(this.field.readonly||At()(this.field,"extraAttributes.readonly"))}}},emits:["field-shown","field-hidden"],props:Wt(Wt({},E(["shownViaNewRelationModal","field","viaResource","viaResourceId","viaRelationship","resourceName","resourceId","relatedResourceName","relatedResourceId"])),{},{syncEndpoint:{type:String,required:!1}}),data:function(){return{dependentFieldDebouncer:null,canceller:null,watchedFields:{},watchedEvents:{},syncedField:null,pivot:!1,editMode:"create"}},created:function(){this.dependentFieldDebouncer=Ct()((function(t){return t()}),50)},mounted:function(){var t=this;""===this.relatedResourceName||It()(this.relatedResourceName)?""===this.resourceId||It()(this.resourceId)||(this.editMode="update"):(this.pivot=!0,""===this.relatedResourceId||It()(this.relatedResourceId)?this.editMode="attach":this.editMode="update-attached"),Mt()(this.dependsOn)||kt()(this.dependsOn,(function(e,r){t.watchedEvents[r]=function(e){t.watchedFields[r]=e,t.dependentFieldDebouncer((function(){return t.syncField()}))},t.watchedFields[r]=e,Nova.$on(t.getFieldAttributeChangeEventName(r),t.watchedEvents[r])}))},beforeUnmount:function(){var t=this;Mt()(this.watchedEvents)||kt()(this.watchedEvents,(function(e,r){Nova.$off(t.getFieldAttributeChangeEventName(e.dependsOn),e)}))},methods:{setInitialValue:function(){this.value=void 0!==this.currentField.value&&null!==this.currentField.value?this.currentField.value:this.value},fillIfVisible:function(t,e,r){this.currentlyIsVisible&&t.append(e,r)},syncField:function(){var t=this;null!==this.canceller&&this.canceller(),Nova.request().patch(this.syncEndpoint||this.syncFieldEndpoint,this.watchedFields,{params:Dt()({editing:!0,editMode:this.editMode,viaResource:this.viaResource,viaResourceId:this.viaResourceId,viaRelationship:this.viaRelationship,field:this.field.attribute,component:this.field.dependentComponentKey},Tt()),cancelToken:new xt.CancelToken((function(e){t.canceller=e}))}).then((function(e){var r=t.currentlyIsVisible;t.syncedField=e.data,t.syncedField.visible!==r&&t.$emit(!0===t.syncedField.visible?"field-shown":"field-hidden",t.field.attribute),It()(t.syncedField.value)?t.syncedField.value=t.field.value:t.setInitialValue(),t.onSyncedField()}))},onSyncedField:function(){}},computed:{currentField:function(){return this.syncedField||this.field},currentlyIsVisible:function(){return this.currentField.visible},currentlyIsReadonly:function(){return null!==this.syncedField?Boolean(this.syncedField.readonly||At()(this.syncedField,"extraAttributes.readonly")):Boolean(this.field.readonly||At()(this.field,"extraAttributes.readonly"))},dependsOn:function(){return this.field.dependsOn||[]},syncFieldEndpoint:function(){return"update-attached"===this.editMode?"/nova-api/".concat(this.resourceName,"/").concat(this.resourceId,"/update-pivot-fields/").concat(this.relatedResourceName,"/").concat(this.relatedResourceId):"attach"==this.editMode?"/nova-api/".concat(this.resourceName,"/").concat(this.resourceId,"/creation-pivot-fields/").concat(this.relatedResourceName):"update"===this.editMode?"/nova-api/".concat(this.resourceName,"/").concat(this.resourceId,"/update-fields"):"/nova-api/".concat(this.resourceName,"/creation-fields")}}};var Ut=r(7257);r(7267);const Vt={props:{errors:{default:function(){return new Ut.D1}}},data:function(){return{errorClass:"form-input-border-error"}},computed:{errorClasses:function(){return this.hasError?[this.errorClass]:[]},fieldAttribute:function(){return this.field.attribute},validationKey:function(){return this.field.validationKey},hasError:function(){return this.errors.has(this.validationKey)},firstError:function(){if(this.hasError)return this.errors.first(this.validationKey)}}};r(2725);Boolean;r(1423);const qt={mixins:[Ht,Vt],data:function(){return{input:null,backgroundWatcherHandler:new y,print_size:{width:null,height:null}}},props:["resourceName","resourceId","field"],mounted:function(){var t=this;setTimeout((function(){t.attachEventListenerToInput()}),500),setTimeout((function(){t.setPrintWidthAndHeight()}),1e3),Nova.$on("print_width-change",(function(e){t.setPrintWidthAndHeight()})),Nova.$on("print_height-change",(function(e){t.setPrintWidthAndHeight()}))},methods:{setSimilarRatio:function(){this.$refs.stage.setRectRatio(this.print_size.height/this.print_size.width)},boundinxBoxRatioMatchPrintSizes:function(){if("string"==typeof this.value&&" "!=this.value&&""!=this.value)var t=JSON.parse(this.value);else t=this.value;return!(t&&t.width&&t.height&&this.print_size.width&&this.print_size.height)||Math.abs(t.width/t.height-this.print_size.width/this.print_size.height)<=.018},setPrintWidthAndHeight:function(){var t,e;(t=document.querySelectorAll('[dusk="print_width"]'))&&(this.print_size.width=t[0].value),(e=document.querySelectorAll('[dusk="print_height"]'))&&(this.print_size.height=e[0].value)},handleChange:function(t){this.value=JSON.stringify(t)},attachEventListenerToInput:function(){this.field.image_field&&this.backgroundWatcherHandler.setFieldName(this.field.image_field),this.field.image_source},setInitialValue:function(){this.value=this.field.value||""},fill:function(t){t.append(this.field.attribute,this.value||"")}}},Xt=(0,b.Z)(qt,[["render",function(t,e,r,i,a,o){var s=(0,n.resolveComponent)("stage"),h=(0,n.resolveComponent)("BasicButton"),l=(0,n.resolveComponent)("DefaultField");return(0,n.openBlock)(),(0,n.createBlock)(l,{field:r.field,errors:t.errors,"show-help-text":t.showHelpText},{field:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",null,[t.backgroundWatcherHandler&&t.backgroundWatcherHandler.image?((0,n.openBlock)(),(0,n.createElementBlock)("div",C,[((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t.backgroundWatcherHandler.image},[(0,n.createVNode)(s,{ref:"stage",value:r.field.value,onChange:o.handleChange,background:t.backgroundWatcherHandler.image},null,8,["value","onChange","background"]),o.boundinxBoxRatioMatchPrintSizes()?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",P,[(0,n.createTextVNode)(" Szerokość i wysokość ustawionego miejsca znakowania nie ma takich samych proporcji jak podane wymiary. "),(0,n.createVNode)(h,{onClick:e[0]||(e[0]=function(t){return o.setSimilarRatio()}),type:"button",size:"sm",component:"button",class:"mt-2 shadow relative bg-primary-500 hover:bg-primary-400 text-white dark:text-gray-900"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Ustaw podobne proporcję ")]})),_:1})]))]))])):(0,n.createCommentVNode)("",!0)])]})),_:1},8,["field","errors","show-help-text"])}]]);var Yt=["id"];var $t=Math.PI/180;const Jt="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},Kt={_global:Jt,version:"8.3.14",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:t=>Kt.angleDeg?t*$t:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>Kt.DD.isDragging,isDragReady:()=>!!Kt.DD.node,releaseCanvasOnDestroy:!0,document:Jt.document,_injectGlobal(t){Jt.Konva=t}},Qt=t=>{Kt[t.prototype.getClassName()]=t};Kt._injectGlobal(Kt);class Zt{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Zt(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),r=Math.sin(t),n=this.m[0]*e+this.m[2]*r,i=this.m[1]*e+this.m[3]*r,a=this.m[0]*-r+this.m[2]*e,o=this.m[1]*-r+this.m[3]*e;return this.m[0]=n,this.m[1]=i,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var r=this.m[0]+this.m[2]*e,n=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=a,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=r,this.m[2]=n,this.m[3]=i,this.m[4]=a,this.m[5]=o,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,r=-this.m[1]*t,n=-this.m[2]*t,i=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=r,this.m[2]=n,this.m[3]=i,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var t=this.m[0],e=this.m[1],r=this.m[2],n=this.m[3],i=t*n-e*r;let a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=e){var o=Math.sqrt(t*t+e*e);a.rotation=e>0?Math.acos(t/o):-Math.acos(t/o),a.scaleX=o,a.scaleY=i/o,a.skewX=(t*r+e*n)/i,a.skewY=0}else if(0!=r||0!=n){var s=Math.sqrt(r*r+n*n);a.rotation=Math.PI/2-(n>0?Math.acos(-r/s):-Math.acos(r/s)),a.scaleX=i/s,a.scaleY=s,a.skewX=0,a.skewY=(t*r+e*n)/i}return a.rotation=se._getRotation(a.rotation),a}}var te=Math.PI/180,ee=180/Math.PI,re="Konva error: ",ne={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},ie=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,ae=[];const oe="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(t){setTimeout(t,60)},se={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){ae.push(t),1===ae.length&&oe((function(){const t=ae;ae=[],t.forEach((function(t){t()}))}))},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var r=se.createImageElement();r.onload=function(){e(r)},r.src=t},_rgbToHex:(t,e,r)=>((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in ne?{r:(e=ne[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=ie.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>(t=t||"black",se._namedColorToRBA(t)||se._hex3ColorToRGBA(t)||se._hex6ColorToRGBA(t)||se._rgbColorToRGBA(t)||se._rgbaColorToRGBA(t)||se._hslColorToRGBA(t)),_namedColorToRBA(t){var e=ne[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((t,e)=>"%"===t.slice(-1)?3===e?parseInt(t)/100:parseInt(t)/100*255:Number(t)));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...r]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=Number(r[0])/360,i=Number(r[1])/100,a=Number(r[2])/100;let o,s,h;if(0===i)return h=255*a,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};o=a<.5?a*(1+i):a+i-a*i;const l=2*a-o,c=[0,0,0];for(let t=0;t<3;t++)s=n+1/3*-(t-1),s<0&&s++,s>1&&s--,h=6*s<1?l+6*(o-l)*s:2*s<1?o:3*s<2?l+(o-l)*(2/3-s)*6:l,c[t]=255*h;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var r in t)this._isPlainObject(t[r])?e[r]=this.cloneObject(t[r]):this._isArray(t[r])?e[r]=this.cloneArray(t[r]):e[r]=t[r];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*te,radToDeg:t=>t*ee,_degToRad:t=>(se.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),se.degToRad(t)),_radToDeg:t=>(se.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),se.radToDeg(t)),_getRotation:t=>Kt.angleDeg?se.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(re+t)},error(t){console.error(re+t)},warn(t){Kt.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(var r in t)e(r,t[r])},_inRange:(t,e,r)=>e<=t&&t<r,_getProjectionToSegment(t,e,r,n,i,a){var o,s,h,l=(t-r)*(t-r)+(e-n)*(e-n);if(0==l)o=t,s=e,h=(i-r)*(i-r)+(a-n)*(a-n);else{var c=((i-t)*(r-t)+(a-e)*(n-e))/l;c<0?(o=t,s=e,h=(t-i)*(t-i)+(e-a)*(e-a)):c>1?(o=r,s=n,h=(r-i)*(r-i)+(n-a)*(n-a)):h=((o=t+c*(r-t))-i)*(o-i)+((s=e+c*(n-e))-a)*(s-a)}return[o,s,h]},_getProjectionToLine(t,e,r){var n=se.cloneObject(t),i=Number.MAX_VALUE;return e.forEach((function(a,o){if(r||o!==e.length-1){var s=e[(o+1)%e.length],h=se._getProjectionToSegment(a.x,a.y,s.x,s.y,t.x,t.y),l=h[0],c=h[1],u=h[2];u<i&&(n.x=l,n.y=c,i=u)}})),n},_prepareArrayForTween(t,e,r){var n,i=[],a=[];if(t.length>e.length){var o=e;e=t,t=o}for(n=0;n<t.length;n+=2)i.push({x:t[n],y:t[n+1]});for(n=0;n<e.length;n+=2)a.push({x:e[n],y:e[n+1]});var s=[];return a.forEach((function(t){var e=se._getProjectionToLine(t,i,r);s.push(e.x),s.push(e.y)})),s},_prepareToStringify(t){var e;for(var r in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(r)&&t[r]&&"object"==typeof t[r])if(e=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||se._isElement(t[r])){if(!e.configurable)return null;delete t[r]}else if(null===se._prepareToStringify(t[r])){if(!e.configurable)return null;delete t[r]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var r in e)t[r]=e[r];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999,releaseCanvas(...t){Kt.releaseCanvasOnDestroy&&t.forEach((t=>{t.width=0,t.height=0}))}};function he(t){return se._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||se._isBoolean(t)?t:Object.prototype.toString.call(t)}function le(t){return t>255?255:t<0?0:Math.round(t)}function ce(){if(Kt.isUnminified)return function(t,e){return se._isNumber(t)||se.warn(he(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function ue(t){if(Kt.isUnminified)return function(e,r){let n=se._isNumber(e),i=se._isArray(e)&&e.length==t;return n||i||se.warn(he(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function de(){if(Kt.isUnminified)return function(t,e){return se._isNumber(t)||"auto"===t||se.warn(he(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function fe(){if(Kt.isUnminified)return function(t,e){return se._isString(t)||se.warn(he(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function pe(){if(Kt.isUnminified)return function(t,e){const r=se._isString(t),n="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return r||n||se.warn(he(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function ge(){if(Kt.isUnminified)return function(t,e){return!0===t||!1===t||se.warn(he(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}var ve="get",ye="set";const me={addGetterSetter(t,e,r,n,i){me.addGetter(t,e,r),me.addSetter(t,e,n,i),me.addOverloadedGetterSetter(t,e)},addGetter(t,e,r){var n=ve+se._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var t=this.attrs[e];return void 0===t?r:t}},addSetter(t,e,r,n){var i=ye+se._capitalize(e);t.prototype[i]||me.overWriteSetter(t,e,r,n)},overWriteSetter(t,e,r,n){var i=ye+se._capitalize(e);t.prototype[i]=function(t){return r&&null!=t&&(t=r.call(this,t,e)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter(t,e,r,n,i){var a,o,s=r.length,h=se._capitalize,l=ve+h(e),c=ye+h(e);t.prototype[l]=function(){var t={};for(a=0;a<s;a++)t[o=r[a]]=this.getAttr(e+h(o));return t};var u=function(t){if(Kt.isUnminified)return function(e,r){return null==e||se.isObject(e)||se.warn(he(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}(r);t.prototype[c]=function(t){var a,o=this.attrs[e];for(a in n&&(t=n.call(this,t)),u&&u.call(this,t,e),t)t.hasOwnProperty(a)&&this._setAttr(e+h(a),t[a]);return t||r.forEach((t=>{this._setAttr(e+h(t),void 0)})),this._fireChangeEvent(e,o,t),i&&i.call(this),this},me.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var r=se._capitalize(e),n=ye+r,i=ve+r;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,r,n){se.error("Adding deprecated "+e);var i=ve+se._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){se.error(a);var t=this.attrs[e];return void 0===t?r:t},me.addSetter(t,e,n,(function(){se.error(a)})),me.addOverloadedGetterSetter(t,e)},backCompat(t,e){se.each(e,(function(e,r){var n=t.prototype[r],i=ve+se._capitalize(e),a=ye+se._capitalize(e);function o(){n.apply(this,arguments),se.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[e]=o,t.prototype[i]=o,t.prototype[a]=o}))},afterSetFilter(){this._filterUpToDate=!1}};function be(t){var e,r,n=[],i=t.length,a=se;for(e=0;e<i;e++)r=t[e],a._isNumber(r)?r=Math.round(1e3*r)/1e3:a._isString(r)||(r+=""),n.push(r);return n}var _e=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class we{constructor(t){this.canvas=t,Kt.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var r,n,i,a,o=this.traceArr,s=o.length,h="";for(r=0;r<s;r++)(i=(n=o[r]).method)?(a=n.args,h+=i,t?h+="()":se._isArray(a[0])?h+="(["+a.join(",")+"])":(e&&(a=a.map((t=>"number"==typeof t?Math.floor(t):t))),h+="("+a.join(",")+")")):(h+=n.property,t||(h+="="+n.val)),h+=";";return h}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,r,n,i,a){this._context.arc(t,e,r,n,i,a)}arcTo(t,e,r,n,i){this._context.arcTo(t,e,r,n,i)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,r,n,i,a){this._context.bezierCurveTo(t,e,r,n,i,a)}clearRect(t,e,r,n){this._context.clearRect(t,e,r,n)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var r=arguments;return 2===r.length?this._context.createImageData(t,e):1===r.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,r,n){return this._context.createLinearGradient(t,e,r,n)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,r,n,i,a){return this._context.createRadialGradient(t,e,r,n,i,a)}drawImage(t,e,r,n,i,a,o,s,h){var l=arguments,c=this._context;3===l.length?c.drawImage(t,e,r):5===l.length?c.drawImage(t,e,r,n,i):9===l.length&&c.drawImage(t,e,r,n,i,a,o,s,h)}ellipse(t,e,r,n,i,a,o,s){this._context.ellipse(t,e,r,n,i,a,o,s)}isPointInPath(t,e){return this._context.isPointInPath(t,e)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,r,n){this._context.fillRect(t,e,r,n)}strokeRect(t,e,r,n){this._context.strokeRect(t,e,r,n)}fillText(t,e,r,n){n?this._context.fillText(t,e,r,n):this._context.fillText(t,e,r)}measureText(t){return this._context.measureText(t)}getImageData(t,e,r,n){return this._context.getImageData(t,e,r,n)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,r,n){this._context.rect(t,e,r,n)}putImageData(t,e,r){this._context.putImageData(t,e,r)}quadraticCurveTo(t,e,r,n){this._context.quadraticCurveTo(t,e,r,n)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,r,n,i,a){this._context.setTransform(t,e,r,n,i,a)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,r,n){this._context.strokeText(t,e,r,n)}transform(t,e,r,n,i,a){this._context.transform(t,e,r,n,i,a)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t,e,r=this,n=_e.length,i=this.setAttr,a=function(t){var n,i=r[t];r[t]=function(){return e=be(Array.prototype.slice.call(arguments,0)),n=i.apply(r,arguments),r._trace({method:t,args:e}),n}};for(t=0;t<n;t++)a(_e[t]);r.setAttr=function(){i.apply(r,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),r._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(we.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));class xe extends we{constructor(t){super(t),this._context=t._canvas.getContext("2d")}_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){var e=t.fill(),r=t.getFillPriority();if(e&&"color"===r)this._fillColor(t);else{var n=t.getFillPatternImage();if(n&&"pattern"===r)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===r)this._fillLinearGradient(t);else{var a=t.getFillRadialGradientColorStops();a&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):i?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}}}}_strokeLinearGradient(t){var e=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),n=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,r.x,r.y);if(n){for(var a=0;a<n.length;a+=2)i.addColorStop(n[a],n[a+1]);this.setAttr("strokeStyle",i)}}_stroke(t){var e=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}}_applyShadow(t){var e,r,n,i=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",a=null!==(r=t.getShadowBlur())&&void 0!==r?r:5,o=null!==(n=t.getShadowOffset())&&void 0!==n?n:{x:0,y:0},s=t.getAbsoluteScale(),h=this.canvas.getPixelRatio(),l=s.x*h,c=s.y*h;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",a*Math.min(Math.abs(l),Math.abs(c))),this.setAttr("shadowOffsetX",o.x*l),this.setAttr("shadowOffsetY",o.y*c)}}class Se extends we{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t);var n=t.hitStrokeWidth(),i="auto"===n?t.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}}var Ce;class Pe{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||Kt.pixelRatio||function(){if(Ce)return Ce;var t=se.createCanvasElement(),e=t.getContext("2d");return Ce=(Kt._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),se.releaseCanvas(t),Ce}();this.pixelRatio=e,this._canvas=se.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return se.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}me.addGetterSetter(Pe,"pixelRatio",void 0,ce());class ke extends Pe{constructor(t={width:0,height:0}){super(t),this.context=new xe(this),this.setSize(t.width,t.height)}}class Oe extends Pe{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new Se(this),this.setSize(t.width,t.height)}}const Ae={get isDragging(){var t=!1;return Ae._dragElements.forEach((e=>{"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return Ae._dragElements.forEach((e=>{t=e.node})),t},_dragElements:new Map,_drag(t){const e=[];Ae._dragElements.forEach(((r,n)=>{const{node:i}=r,a=i.getStage();a.setPointersPositions(t),void 0===r.pointerId&&(r.pointerId=se._getFirstPointerId(t));const o=a._changedPointerPositions.find((t=>t.id===r.pointerId));if(o){if("dragging"!==r.dragStatus){var s=i.dragDistance();if(Math.max(Math.abs(o.x-r.startPointerPos.x),Math.abs(o.y-r.startPointerPos.y))<s)return;if(i.startDrag({evt:t}),!i.isDragging())return}i._setDragPosition(t,r),e.push(i)}})),e.forEach((e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore(t){const e=[];Ae._dragElements.forEach((r=>{const{node:n}=r,i=n.getStage();t&&i.setPointersPositions(t);if(!i._changedPointerPositions.find((t=>t.id===r.pointerId)))return;"dragging"!==r.dragStatus&&"stopped"!==r.dragStatus||(Ae.justDragged=!0,Kt._mouseListenClick=!1,Kt._touchListenClick=!1,Kt._pointerListenClick=!1,r.dragStatus="stopped");const a=r.node.getLayer()||r.node instanceof Kt.Stage&&r.node;a&&-1===e.indexOf(a)&&e.push(a)})),e.forEach((t=>{t.draw()}))},_endDragAfter(t){Ae._dragElements.forEach(((e,r)=>{"stopped"===e.dragStatus&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),"dragging"!==e.dragStatus&&Ae._dragElements.delete(r)}))}};Kt.isBrowser&&(window.addEventListener("mouseup",Ae._endDragBefore,!0),window.addEventListener("touchend",Ae._endDragBefore,!0),window.addEventListener("mousemove",Ae._drag),window.addEventListener("touchmove",Ae._drag),window.addEventListener("mouseup",Ae._endDragAfter,!1),window.addEventListener("touchend",Ae._endDragAfter,!1));var Ee="absoluteOpacity",Te="allEventListeners",je="absoluteTransform",Me="absoluteScale",Re="canvas",Ie="listening",Le="mouseenter",De="mouseleave",Fe="Shape",Ge=" ",Ne="stage",Be="transform",We="visible",ze=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Ge);let He=1;class Ue{constructor(t){this._id=He++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==Be&&t!==je||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var r=this._cache.get(t);return(void 0===r||(t===Be||t===je)&&!0===r.dirty)&&(r=e.call(this),this._cache.set(t,r)),r}_calculate(t,e,r){if(!this._attachedDepsListeners.get(t)){const r=e.map((t=>t+"Change.konva")).join(Ge);this.on(r,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,r)}_getCanvasCache(){return this._cache.get(Re)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===je&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Re)){const{scene:t,filter:e,hit:r}=this._cache.get(Re);se.releaseCanvas(t,e,r),this._cache.delete(Re)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},r={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var n=Math.ceil(e.width||r.width),i=Math.ceil(e.height||r.height),a=e.pixelRatio,o=void 0===e.x?Math.floor(r.x):e.x,s=void 0===e.y?Math.floor(r.y):e.y,h=e.offset||0,l=e.drawBorder||!1,c=e.hitCanvasPixelRatio||1;if(n&&i){o-=h,s-=h;var u=new ke({pixelRatio:a,width:n+=2*h+1,height:i+=2*h+1}),d=new ke({pixelRatio:a,width:0,height:0}),f=new Oe({pixelRatio:c,width:n,height:i}),p=u.getContext(),g=f.getContext();return f.isCache=!0,u.isCache=!0,this._cache.delete(Re),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(u.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),p.save(),g.save(),p.translate(-o,-s),g.translate(-o,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Ee),this._clearSelfAndDescendantCache(Me),this.drawScene(u,this),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),g.restore(),l&&(p.save(),p.beginPath(),p.rect(0,0,n,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(Re,{scene:u,filter:d,hit:f,x:o,y:s}),this._requestDraw(),this}se.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(Re)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var r,n,i,a,o=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return o.forEach((function(t){var e=s.point(t);void 0===r&&(r=i=e.x,n=a=e.y),r=Math.min(r,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),a=Math.max(a,e.y)})),{x:r,y:n,width:i-r,height:a-n}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var r=this._getCachedSceneCanvas(),n=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/n,r.height/n),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),r=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t,e,r,n,i=this.filters(),a=this._getCanvasCache(),o=a.scene,s=a.filter,h=s.getContext();if(i){if(!this._filterUpToDate){var l=o.pixelRatio;s.setSize(o.width/o.pixelRatio,o.height/o.pixelRatio);try{for(t=i.length,h.clear(),h.drawImage(o._canvas,0,0,o.getWidth()/l,o.getHeight()/l),e=h.getImageData(0,0,s.getWidth(),s.getHeight()),r=0;r<t;r++)"function"==typeof(n=i[r])?(n.call(this,e),h.putImageData(e,0,0)):se.error("Filter should be type of function, but got "+typeof n+" instead. Please check correct filters")}catch(t){se.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return o}on(t,e){if(this._cache&&this._cache.delete(Te),3===arguments.length)return this._delegate.apply(this,arguments);var r,n,i,a,o=t.split(Ge),s=o.length;for(r=0;r<s;r++)i=(n=o[r].split("."))[0],a=n[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:a,handler:e});return this}off(t,e){var r,n,i,a,o,s=(t||"").split(Ge),h=s.length;if(this._cache&&this._cache.delete(Te),!t)for(n in this.eventListeners)this._off(n);for(r=0;r<h;r++)if(a=(i=s[r].split("."))[0],o=i[1],a)this.eventListeners[a]&&this._off(a,o,e);else for(n in this.eventListeners)this._off(n,o,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,r){var n=this;this.on(t,(function(t){for(var i=t.target.findAncestors(e,!0,n),a=0;a<i.length;a++)(t=se.cloneObject(t)).currentTarget=i[a],r.call(i[a],t)}))}remove(){return this.isDragging()&&this.stopDrag(),Ae._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(je),this._clearSelfAndDescendantCache(Ee),this._clearSelfAndDescendantCache(Me),this._clearSelfAndDescendantCache(Ne),this._clearSelfAndDescendantCache(We),this._clearSelfAndDescendantCache(Ie)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var e="get"+se._capitalize(t);return se._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{var e,r;if(!t)return this;for(e in t)"children"!==e&&(r="set"+se._capitalize(e),se._isFunction(this[r])?this[r](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache(Ie,this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache(We,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var r=this.getLayer(),n=!1;Ae._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===r)&&(n=!0)}));var i=!e&&!Kt.hitOnDragEnabled&&n;return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t,e,r,n,i=this.getDepth(),a=this,o=0;return"Stage"!==a.nodeType&&function s(h){for(t=[],e=h.length,r=0;r<e;r++)n=h[r],o++,n.nodeType!==Fe&&(t=t.concat(n.getChildren().slice())),n._id===a._id&&(r=e);t.length>0&&t[0].getDepth()<=i&&s(t)}(a.getStage().getChildren()),o}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Be),this._clearSelfAndDescendantCache(je)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,r=this.parent;for(;r;){if(r.isCached()){e=!0;break}r=r.parent}e&&!t&&(t=!0);var n=this.getAbsoluteTransform(t).getMatrix(),i=new Zt,a=this.offset();return i.m=n.slice(),i.translate(a.x,a.y),i.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(Be);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(t.x,t.y),t={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(Be),this._clearSelfAndDescendantCache(je),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,r=t.y,n=this.x(),i=this.y();return void 0!==e&&(n+=e),void 0!==r&&(i+=r),this.setPosition({x:n,y:i}),this}_eachAncestorReverse(t,e){var r,n,i=[],a=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);a&&(!e||a._id!==e._id);)i.unshift(a),a=a.parent;for(r=i.length,n=0;n<r;n++)t(i[n])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return se.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return se.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return se.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return se.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return se.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&se.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Ee,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t,e,r,n,i={},a=this.getAttrs();for(t in i.attrs={},a)e=a[t],se.isObject(e)&&!se._isPlainObject(e)&&!se._isArray(e)||(r="function"==typeof this[t]&&this[t],delete a[t],n=r?r.call(this):null,a[t]=e,n!==e&&(i.attrs[t]=e));return i.className=this.getClassName(),se._prepareToStringify(i)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,r){var n=[];e&&this._isMatch(t)&&n.push(this);for(var i=this.parent;i;){if(i===r)return n;i._isMatch(t)&&n.push(i),i=i.parent}return n}isAncestorOf(t){return!1}findAncestor(t,e,r){return this.findAncestors(t,e,r)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,r,n=t.replace(/ /g,"").split(","),i=n.length;for(e=0;e<i;e++)if(r=n[e],se.isValidSelector(r)||(se.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),se.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),se.warn("Konva is awesome, right?")),"#"===r.charAt(0)){if(this.id()===r.slice(1))return!0}else if("."===r.charAt(0)){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(Ne,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():void 0}fire(t,e={},r){return e.target=e.target||this,r?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(je,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new Zt,this._eachAncestorReverse((function(t){var r=t.transformsEnabled();"all"===r?e.multiply(t.getTransform()):"position"===r&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(je)||new Zt,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var r=this.transformsEnabled();if("all"===r)e.multiply(this.getTransform());else if("position"===r){const t=this.attrs.x||0,r=this.attrs.y||0,n=this.attrs.offsetX||0,i=this.attrs.offsetY||0;e.translate(t-n,r-i)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const r=this.getAbsoluteTransform(t).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Be,this._getTransform)}_getTransform(){var t,e,r=this._cache.get(Be)||new Zt;r.reset();var n=this.x(),i=this.y(),a=Kt.getAngle(this.rotation()),o=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,s=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,h=this.attrs.skewX||0,l=this.attrs.skewY||0,c=this.attrs.offsetX||0,u=this.attrs.offsetY||0;return 0===n&&0===i||r.translate(n,i),0!==a&&r.rotate(a),0===h&&0===l||r.skew(h,l),1===o&&1===s||r.scale(o,s),0===c&&0===u||r.translate(-1*c,-1*u),r.dirty=!1,r}clone(t){var e,r,n,i,a,o=se.cloneObject(this.attrs);for(e in t)o[e]=t[e];var s=new this.constructor(o);for(e in this.eventListeners)for(n=(r=this.eventListeners[e]).length,i=0;i<n;i++)(a=r[i]).name.indexOf("konva")<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(a));return s}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),r=this.getStage(),n=void 0!==t.x?t.x:Math.floor(e.x),i=void 0!==t.y?t.y:Math.floor(e.y),a=t.pixelRatio||1,o=new ke({width:t.width||Math.ceil(e.width)||(r?r.width():0),height:t.height||Math.ceil(e.height)||(r?r.height():0),pixelRatio:a}),s=o.getContext();return!1===t.imageSmoothingEnabled&&(s._context.imageSmoothingEnabled=!1),s.save(),(n||i)&&s.translate(-1*n,-1*i),this.drawScene(o),s.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,r=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(e,r);return t.callback&&t.callback(n),n}toImage(t){return new Promise(((e,r)=>{try{const r=null==t?void 0:t.callback;r&&delete t.callback,se._urlToImage(this.toDataURL(t),(function(t){e(t),null==r||r(t)}))}catch(t){r(t)}}))}toBlob(t){return new Promise(((e,r)=>{try{const r=null==t?void 0:t.callback;r&&delete t.callback,this.toCanvas(t).toBlob((t=>{e(t),null==r||r(t)}))}catch(t){r(t)}}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Kt.dragDistance}_off(t,e,r){var n,i,a,o=this.eventListeners[t];for(n=0;n<o.length;n++)if(i=o[n].name,a=o[n].handler,!("konva"===i&&"konva"!==e||e&&i!==e||r&&r!==a)){if(o.splice(n,1),0===o.length){delete this.eventListeners[t];break}n--}}_fireChangeEvent(t,e,r){this._fire(t+"Change",{oldVal:e,newVal:r})}addName(t){if(!this.hasName(t)){var e=this.name(),r=e?e+" "+t:t;this.name(r)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),r=e.indexOf(t);return-1!==r&&(e.splice(r,1),this.name(e.join(" "))),this}setAttr(t,e){var r=this["set"+se._capitalize(t)];return se._isFunction(r)?r.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(Kt.autoDrawEnabled){const t=this.getLayer()||this.getStage();null==t||t.batchDraw()}}_setAttr(t,e){var r=this.attrs[t];(r!==e||se.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,r,e),this._requestDraw())}_setComponentAttr(t,e,r){var n;void 0!==r&&((n=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=r,this._fireChangeEvent(t,n,r))}_fireAndBubble(t,e,r){if(e&&this.nodeType===Fe&&(e.target=this),!((t===Le||t===De)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||"Stage"===this.nodeType&&!r))){this._fire(t,e);var n=(t===Le||t===De)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!n&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,e,r):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){let e=this._cache.get(Te);if(!e){e={};let t=Object.getPrototypeOf(this);for(;t;)if(t.eventListeners){for(var r in t.eventListeners){const n=t.eventListeners[r],i=e[r]||[];e[r]=n.concat(i)}t=Object.getPrototypeOf(t)}else t=Object.getPrototypeOf(t);this._cache.set(Te,e)}return e[t]}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const r=this._getProtoListeners(t);if(r)for(var n=0;n<r.length;n++)r[n].handler.call(this,e);const i=this.eventListeners[t];if(i)for(n=0;n<i.length;n++)i[n].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,r=this.getStage(),n=this.getAbsolutePosition(),i=r._getPointerById(e)||r._changedPointerPositions[0]||n;Ae._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-n.x,y:i.y-n.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){Ae._dragElements.has(this._id)||this._createDragElement(t);Ae._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const r=this.getStage()._getPointerById(e.pointerId);if(r){var n={x:r.x-e.offset.x,y:r.y-e.offset.y},i=this.dragBoundFunc();if(void 0!==i){const e=i.call(this,n,t);e?n=e:se.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===n.x&&this._lastPos.y===n.y||(this.setAbsolutePosition(n),this._requestDraw()),this._lastPos=n}}stopDrag(t){const e=Ae._dragElements.get(this._id);e&&(e.dragStatus="stopped"),Ae._endDragBefore(t),Ae._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=Ae._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if((!(void 0!==t.evt.button)||Kt.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var e=!1;Ae._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=Ae._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,r=t&&"ready"===t.dragStatus;e?this.stopDrag():r&&Ae._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const r={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return se.haveIntersection(r,this.getClientRect())}static create(t,e){return se._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var r,n,i,a=Ue.prototype.getClassName.call(t),o=t.children;e&&(t.attrs.container=e),Kt[a]||(se.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");if(r=new(0,Kt[a])(t.attrs),o)for(n=o.length,i=0;i<n;i++)r.add(Ue._createNode(o[i]));return r}}Ue.prototype.nodeType="Node",Ue.prototype._attrsAffectingSize=[],Ue.prototype.eventListeners={},Ue.prototype.on.call(Ue.prototype,ze,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Be),this._clearSelfAndDescendantCache(je))})),Ue.prototype.on.call(Ue.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(We)})),Ue.prototype.on.call(Ue.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(Ie)})),Ue.prototype.on.call(Ue.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(Ee)}));const Ve=me.addGetterSetter;Ve(Ue,"zIndex"),Ve(Ue,"absolutePosition"),Ve(Ue,"position"),Ve(Ue,"x",0,ce()),Ve(Ue,"y",0,ce()),Ve(Ue,"globalCompositeOperation","source-over",fe()),Ve(Ue,"opacity",1,ce()),Ve(Ue,"name","",fe()),Ve(Ue,"id","",fe()),Ve(Ue,"rotation",0,ce()),me.addComponentsGetterSetter(Ue,"scale",["x","y"]),Ve(Ue,"scaleX",1,ce()),Ve(Ue,"scaleY",1,ce()),me.addComponentsGetterSetter(Ue,"skew",["x","y"]),Ve(Ue,"skewX",0,ce()),Ve(Ue,"skewY",0,ce()),me.addComponentsGetterSetter(Ue,"offset",["x","y"]),Ve(Ue,"offsetX",0,ce()),Ve(Ue,"offsetY",0,ce()),Ve(Ue,"dragDistance",null,ce()),Ve(Ue,"width",0,ce()),Ve(Ue,"height",0,ce()),Ve(Ue,"listening",!0,ge()),Ve(Ue,"preventDefault",!0,ge()),Ve(Ue,"filters",null,(function(t){return this._filterUpToDate=!1,t})),Ve(Ue,"visible",!0,ge()),Ve(Ue,"transformsEnabled","all",fe()),Ve(Ue,"size"),Ve(Ue,"dragBoundFunc"),Ve(Ue,"draggable",!1,ge()),me.backCompat(Ue,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class qe extends Ue{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var r=[];return e.forEach((function(e){t(e)&&r.push(e)})),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}var r=t[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var r=[];return this._descendants((n=>{const i=n._isMatch(t);return i&&r.push(n),!(!i||!e)})),r}_descendants(t){let e=!1;const r=this.getChildren();for(const n of r){if(e=t(n),e)return!0;if(n.hasChildren()&&(e=n._descendants(t),e))return!0}return!1}toObject(){var t=Ue.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=Ue.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach((function(r){r.isVisible()&&r.intersects(t)&&e.push(r)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),this.isCached()||null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e){var r=this.getLayer(),n=t||r&&r.getCanvas(),i=n&&n.getContext(),a=this._getCanvasCache(),o=a&&a.scene,s=n&&n.isCache;if(!this.isVisible()&&!s)return this;if(o){i.save();var h=this.getAbsoluteTransform(e).getMatrix();i.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",n,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var r=this.getLayer(),n=t||r&&r.hitCanvas,i=n&&n.getContext(),a=this._getCanvasCache();if(a&&a.hit){i.save();var o=this.getAbsoluteTransform(e).getMatrix();i.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",n,e);return this}_drawChildren(t,e,r){var n,i=e&&e.getContext(),a=this.clipWidth(),o=this.clipHeight(),s=this.clipFunc(),h=a&&o||s;const l=r===this;if(h){i.save();var c=this.getAbsoluteTransform(r),u=c.getMatrix();if(i.transform(u[0],u[1],u[2],u[3],u[4],u[5]),i.beginPath(),s)s.call(this,i,this);else{var d=this.clipX(),f=this.clipY();i.rect(d,f,a,o)}i.clip(),u=c.copy().invert().getMatrix(),i.transform(u[0],u[1],u[2],u[3],u[4],u[5])}var p=!l&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;p&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(n=this.children)||void 0===n||n.forEach((function(n){n[t](e,r)})),p&&i.restore(),h&&i.restore()}getClientRect(t){var e,r,n,i,a,o=(t=t||{}).skipTransform,s=t.relativeTo,h={x:1/0,y:1/0,width:0,height:0},l=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(e.visible()){var o=e.getClientRect({relativeTo:l,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===o.width&&0===o.height||(void 0===r?(r=o.x,n=o.y,i=o.x+o.width,a=o.y+o.height):(r=Math.min(r,o.x),n=Math.min(n,o.y),i=Math.max(i,o.x+o.width),a=Math.max(a,o.y+o.height)))}}));for(var c=this.find("Shape"),u=!1,d=0;d<c.length;d++){if(c[d]._isVisible(this)){u=!0;break}}return h=u&&void 0!==r?{x:r,y:n,width:i-r,height:a-n}:{x:0,y:0,width:0,height:0},o?h:this._transformedRect(h,s)}}me.addComponentsGetterSetter(qe,"clip",["x","y","width","height"]),me.addGetterSetter(qe,"clipX",void 0,ce()),me.addGetterSetter(qe,"clipY",void 0,ce()),me.addGetterSetter(qe,"clipWidth",void 0,ce()),me.addGetterSetter(qe,"clipHeight",void 0,ce()),me.addGetterSetter(qe,"clipFunc");const Xe=new Map,Ye=void 0!==Kt._global.PointerEvent;function $e(t){return Xe.get(t)}function Je(t){return{evt:t,pointerId:t.pointerId}}function Ke(t,e){return Xe.get(t)===e}function Qe(t,e){Ze(t);e.getStage()&&(Xe.set(t,e),Ye&&e._fire("gotpointercapture",Je(new PointerEvent("gotpointercapture"))))}function Ze(t,e){const r=Xe.get(t);if(!r)return;const n=r.getStage();n&&n.content,Xe.delete(t),Ye&&r._fire("lostpointercapture",Je(new PointerEvent("lostpointercapture")))}var tr="mouseleave",er="mouseover",rr="mouseenter",nr="mousemove",ir="mousedown",ar="mouseup",or="pointermove",sr="pointerdown",hr="pointerup",lr="pointercancel",cr="pointerout",ur="pointerleave",dr="pointerover",fr="pointerenter",pr="contextmenu",gr="touchstart",vr="touchend",yr="touchmove",mr="touchcancel",br="wheel",_r=[[rr,"_pointerenter"],[ir,"_pointerdown"],[nr,"_pointermove"],[ar,"_pointerup"],[tr,"_pointerleave"],[gr,"_pointerdown"],[yr,"_pointermove"],[vr,"_pointerup"],[mr,"_pointercancel"],[er,"_pointerover"],[br,"_wheel"],[pr,"_contextmenu"],[sr,"_pointerdown"],[or,"_pointermove"],[hr,"_pointerup"],[lr,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const wr={mouse:{[cr]:"mouseout",[ur]:tr,[dr]:er,[fr]:rr,[or]:nr,[sr]:ir,[hr]:ar,[lr]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[cr]:"touchout",[ur]:"touchleave",[dr]:"touchover",[fr]:"touchenter",[or]:yr,[sr]:gr,[hr]:vr,[lr]:mr,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[cr]:cr,[ur]:ur,[dr]:dr,[fr]:fr,[or]:or,[sr]:sr,[hr]:hr,[lr]:lr,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},xr=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Sr=t=>{const e=xr(t);return"pointer"===e?Kt.pointerEventsEnabled&&wr.pointer:"touch"===e?wr.touch:"mouse"===e?wr.mouse:void 0};function Cr(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&se.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const Pr=[];class kr extends qe{constructor(t){super(Cr(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Pr.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{Cr(this.attrs)})),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),r="FastLayer"===t.getType();e||r||se.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var r;r="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(r)}if(!t)throw"Can not find container in document with id "+r}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t,e=this.children,r=e.length;for(t=0;t<r;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container="undefined"!=typeof document&&document.createElement("div"),qe.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&se._isInDocument(t)&&this.container().removeChild(t);var e=Pr.indexOf(this);return e>-1&&Pr.splice(e,1),se.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(se.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new ke({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),r=e.getContext()._context,n=this.children;return(t.x||t.y)&&r.translate(-1*t.x,-1*t.y),n.forEach((function(e){if(e.isVisible()){var n=e._toKonvaCanvas(t);r.drawImage(n._canvas,t.x,t.y,n.getWidth()/n.getPixelRatio(),n.getHeight()/n.getPixelRatio())}})),e}getIntersection(t){if(!t)return null;var e,r=this.children;for(e=r.length-1;e>=0;e--){const n=r[e].getIntersection(t);if(n)return n}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((r=>{r.setSize({width:t,height:e}),r.draw()}))}add(t,...e){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(t);var n=this.children.length;return n>5&&se.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),Kt.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return Ke(t,this)}setPointerCapture(t){Qe(t,this)}releaseCapture(t){Ze(t)}getLayers(){return this.children}_bindContentEvents(){Kt.isBrowser&&_r.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}),{passive:!1})}))}_pointerenter(t){this.setPointersPositions(t);const e=Sr(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=Sr(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=Sr(t.type),r=xr(t.type);if(e){this.setPointersPositions(t);var n=this._getTargetShape(r),i=!Ae.isDragging||Kt.hitOnDragEnabled;n&&i?(n._fireAndBubble(e.pointerout,{evt:t}),n._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[r+"targetShape"]=null):i&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=Sr(t.type),r=xr(t.type);if(e){this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((i=>{var a=this.getIntersection(i);Ae.justDragged=!1,Kt["_"+r+"ListenClick"]=!0;if(!(a&&a.isListening()))return;Kt.capturePointerEventsEnabled&&a.setPointerCapture(i.id),this[r+"ClickStartShape"]=a,a._fireAndBubble(e.pointerdown,{evt:t,pointerId:i.id}),n=!0;const o=t.type.indexOf("touch")>=0;a.preventDefault()&&t.cancelable&&o&&t.preventDefault()})),n||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=Sr(t.type),r=xr(t.type);if(!e)return;if(Ae.isDragging&&Ae.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),!(!Ae.isDragging||Kt.hitOnDragEnabled))return;var n={};let i=!1;var a=this._getTargetShape(r);this._changedPointerPositions.forEach((o=>{const s=$e(o.id)||this.getIntersection(o),h=o.id,l={evt:t,pointerId:h};var c=a!==s;if(c&&a&&(a._fireAndBubble(e.pointerout,Object.assign({},l),s),a._fireAndBubble(e.pointerleave,Object.assign({},l),s)),s){if(n[s._id])return;n[s._id]=!0}s&&s.isListening()?(i=!0,c&&(s._fireAndBubble(e.pointerover,Object.assign({},l),a),s._fireAndBubble(e.pointerenter,Object.assign({},l),a),this[r+"targetShape"]=s),s._fireAndBubble(e.pointermove,Object.assign({},l))):a&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:h}),this[r+"targetShape"]=null)})),i||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=Sr(t.type),r=xr(t.type);if(!e)return;this.setPointersPositions(t);const n=this[r+"ClickStartShape"],i=this[r+"ClickEndShape"];var a={};let o=!1;this._changedPointerPositions.forEach((s=>{const h=$e(s.id)||this.getIntersection(s);if(h){if(h.releaseCapture(s.id),a[h._id])return;a[h._id]=!0}const l=s.id,c={evt:t,pointerId:l};let u=!1;Kt["_"+r+"InDblClickWindow"]?(u=!0,clearTimeout(this[r+"DblTimeout"])):Ae.justDragged||(Kt["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout((function(){Kt["_"+r+"InDblClickWindow"]=!1}),Kt.dblClickWindow),h&&h.isListening()?(o=!0,this[r+"ClickEndShape"]=h,h._fireAndBubble(e.pointerup,Object.assign({},c)),Kt["_"+r+"ListenClick"]&&n&&n===h&&(h._fireAndBubble(e.pointerclick,Object.assign({},c)),u&&i&&i===h&&h._fireAndBubble(e.pointerdblclick,Object.assign({},c)))):(this[r+"ClickEndShape"]=null,Kt["_"+r+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:l}),u&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:l}))})),o||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Kt["_"+r+"ListenClick"]=!1,t.cancelable&&"touch"!==r&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(pr,{evt:t}):this._fire(pr,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(br,{evt:t}):this._fire(br,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=$e(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(hr,Je(t)),Ze(t.pointerId)}_lostpointercapture(t){Ze(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),r=null,n=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})}))):(r=(t.clientX-e.left)/e.scaleX,n=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:r,y:n},this._pointerPositions=[{x:r,y:n,id:se._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:n,id:se._getFirstPointerId(t)}])}_setPointerPosition(t){se.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ke({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Oe({pixelRatio:1,width:this.width(),height:this.height()}),Kt.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return se.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}kr.prototype.nodeType="Stage",Qt(kr),me.addGetterSetter(kr,"container");var Or="hasShadow",Ar="shadowRGBA",Er="patternImage",Tr="linearGradient",jr="radialGradient";let Mr;function Rr(){return Mr||(Mr=se.createCanvasElement().getContext("2d"),Mr)}const Ir={};class Lr extends Ue{constructor(t){let e;for(super(t);e=se.getRandomColor(),!e||e in Ir;);this.colorKey=e,Ir[e]=this}getContext(){return se.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return se.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Or,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Er,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=Rr().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const e=new Zt;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(Kt.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const r=e.getMatrix(),n="undefined"==typeof DOMMatrix?{a:r[0],b:r[1],c:r[2],d:r[3],e:r[4],f:r[5]}:new DOMMatrix(r);t.setTransform(n)}return t}}_getLinearGradient(){return this._getCache(Tr,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=Rr(),r=this.fillLinearGradientStartPoint(),n=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(r.x,r.y,n.x,n.y),a=0;a<t.length;a+=2)i.addColorStop(t[a],t[a+1]);return i}}_getRadialGradient(){return this._getCache(jr,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=Rr(),r=this.fillRadialGradientStartPoint(),n=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),n.x,n.y,this.fillRadialGradientEndRadius()),a=0;a<t.length;a+=2)i.addColorStop(t[a],t[a+1]);return i}}getShadowRGBA(){return this._getCache(Ar,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=se.colorToRGBA(this.shadowColor());return t?"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")":void 0}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return Ue.prototype.destroy.call(this),delete Ir[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;const r=t||this.hasFill(),n=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(r&&n&&i)return!0;const a=this.hasShadow(),o=this.shadowForStrokeEnabled();return!!(r&&n&&a&&o)}setStrokeHitEnabled(t){se.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,r=t.relativeTo,n=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=n.width+i,o=n.height+i,s=!t.skipShadow&&this.hasShadow(),h=s?this.shadowOffsetX():0,l=s?this.shadowOffsetY():0,c=a+Math.abs(h),u=o+Math.abs(l),d=s&&this.shadowBlur()||0,f={width:c+2*d,height:u+2*d,x:-(i/2+d)+Math.min(h,0)+n.x,y:-(i/2+d)+Math.min(l,0)+n.y};return e?f:this._transformedRect(f,r)}drawScene(t,e){var r,n,i=this.getLayer(),a=t||i.getCanvas(),o=a.getContext(),s=this._getCanvasCache(),h=this.getSceneFunc(),l=this.hasShadow(),c=a.isCache,u=e===this;if(!this.isVisible()&&!u)return this;if(s){o.save();var d=this.getAbsoluteTransform(e).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!h)return this;if(o.save(),this._useBufferCanvas()&&!c){(n=(r=this.getStage().bufferCanvas).getContext()).clear(),n.save(),n._applyLineJoin(this);var f=this.getAbsoluteTransform(e).getMatrix();n.transform(f[0],f[1],f[2],f[3],f[4],f[5]),h.call(this,n,this),n.restore();var p=r.pixelRatio;l&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(r._canvas,0,0,r.width/p,r.height/p)}else{if(o._applyLineJoin(this),!u){f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}l&&o._applyShadow(this),h.call(this,o,this)}return o.restore(),this}drawHit(t,e,r=!1){if(!this.shouldDrawHit(e,r))return this;var n=this.getLayer(),i=t||n.hitCanvas,a=i&&i.getContext(),o=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),h=s&&s.hit;if(this.colorKey||se.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),h){a.save();var l=this.getAbsoluteTransform(e).getMatrix();return a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;a.save(),a._applyLineJoin(this);if(!(this===e)){var c=this.getAbsoluteTransform(e).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(t=0){var e,r,n,i,a,o=this._getCanvasCache(),s=this._getCachedSceneCanvas(),h=o.hit,l=h.getContext(),c=h.getWidth(),u=h.getHeight();l.clear(),l.drawImage(s._canvas,0,0,c,u);try{for(n=(r=(e=l.getImageData(0,0,c,u)).data).length,i=se._hexToRgb(this.colorKey),a=0;a<n;a+=4)r[a+3]>t?(r[a]=i.r,r[a+1]=i.g,r[a+2]=i.b,r[a+3]=255):r[a+3]=0;l.putImageData(e,0,0)}catch(t){se.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}hasPointerCapture(t){return Ke(t,this)}setPointerCapture(t){Qe(t,this)}releaseCapture(t){Ze(t)}}Lr.prototype._fillFunc=function(t){t.fill()},Lr.prototype._strokeFunc=function(t){t.stroke()},Lr.prototype._fillFuncHit=function(t){t.fill()},Lr.prototype._strokeFuncHit=function(t){t.stroke()},Lr.prototype._centroid=!1,Lr.prototype.nodeType="Shape",Qt(Lr),Lr.prototype.eventListeners={},Lr.prototype.on.call(Lr.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Or)})),Lr.prototype.on.call(Lr.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Ar)})),Lr.prototype.on.call(Lr.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(Er)})),Lr.prototype.on.call(Lr.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(Tr)})),Lr.prototype.on.call(Lr.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(jr)})),me.addGetterSetter(Lr,"stroke",void 0,pe()),me.addGetterSetter(Lr,"strokeWidth",2,ce()),me.addGetterSetter(Lr,"fillAfterStrokeEnabled",!1),me.addGetterSetter(Lr,"hitStrokeWidth","auto",de()),me.addGetterSetter(Lr,"strokeHitEnabled",!0,ge()),me.addGetterSetter(Lr,"perfectDrawEnabled",!0,ge()),me.addGetterSetter(Lr,"shadowForStrokeEnabled",!0,ge()),me.addGetterSetter(Lr,"lineJoin"),me.addGetterSetter(Lr,"lineCap"),me.addGetterSetter(Lr,"sceneFunc"),me.addGetterSetter(Lr,"hitFunc"),me.addGetterSetter(Lr,"dash"),me.addGetterSetter(Lr,"dashOffset",0,ce()),me.addGetterSetter(Lr,"shadowColor",void 0,fe()),me.addGetterSetter(Lr,"shadowBlur",0,ce()),me.addGetterSetter(Lr,"shadowOpacity",1,ce()),me.addComponentsGetterSetter(Lr,"shadowOffset",["x","y"]),me.addGetterSetter(Lr,"shadowOffsetX",0,ce()),me.addGetterSetter(Lr,"shadowOffsetY",0,ce()),me.addGetterSetter(Lr,"fillPatternImage"),me.addGetterSetter(Lr,"fill",void 0,pe()),me.addGetterSetter(Lr,"fillPatternX",0,ce()),me.addGetterSetter(Lr,"fillPatternY",0,ce()),me.addGetterSetter(Lr,"fillLinearGradientColorStops"),me.addGetterSetter(Lr,"strokeLinearGradientColorStops"),me.addGetterSetter(Lr,"fillRadialGradientStartRadius",0),me.addGetterSetter(Lr,"fillRadialGradientEndRadius",0),me.addGetterSetter(Lr,"fillRadialGradientColorStops"),me.addGetterSetter(Lr,"fillPatternRepeat","repeat"),me.addGetterSetter(Lr,"fillEnabled",!0),me.addGetterSetter(Lr,"strokeEnabled",!0),me.addGetterSetter(Lr,"shadowEnabled",!0),me.addGetterSetter(Lr,"dashEnabled",!0),me.addGetterSetter(Lr,"strokeScaleEnabled",!0),me.addGetterSetter(Lr,"fillPriority","color"),me.addComponentsGetterSetter(Lr,"fillPatternOffset",["x","y"]),me.addGetterSetter(Lr,"fillPatternOffsetX",0,ce()),me.addGetterSetter(Lr,"fillPatternOffsetY",0,ce()),me.addComponentsGetterSetter(Lr,"fillPatternScale",["x","y"]),me.addGetterSetter(Lr,"fillPatternScaleX",1,ce()),me.addGetterSetter(Lr,"fillPatternScaleY",1,ce()),me.addComponentsGetterSetter(Lr,"fillLinearGradientStartPoint",["x","y"]),me.addComponentsGetterSetter(Lr,"strokeLinearGradientStartPoint",["x","y"]),me.addGetterSetter(Lr,"fillLinearGradientStartPointX",0),me.addGetterSetter(Lr,"strokeLinearGradientStartPointX",0),me.addGetterSetter(Lr,"fillLinearGradientStartPointY",0),me.addGetterSetter(Lr,"strokeLinearGradientStartPointY",0),me.addComponentsGetterSetter(Lr,"fillLinearGradientEndPoint",["x","y"]),me.addComponentsGetterSetter(Lr,"strokeLinearGradientEndPoint",["x","y"]),me.addGetterSetter(Lr,"fillLinearGradientEndPointX",0),me.addGetterSetter(Lr,"strokeLinearGradientEndPointX",0),me.addGetterSetter(Lr,"fillLinearGradientEndPointY",0),me.addGetterSetter(Lr,"strokeLinearGradientEndPointY",0),me.addComponentsGetterSetter(Lr,"fillRadialGradientStartPoint",["x","y"]),me.addGetterSetter(Lr,"fillRadialGradientStartPointX",0),me.addGetterSetter(Lr,"fillRadialGradientStartPointY",0),me.addComponentsGetterSetter(Lr,"fillRadialGradientEndPoint",["x","y"]),me.addGetterSetter(Lr,"fillRadialGradientEndPointX",0),me.addGetterSetter(Lr,"fillRadialGradientEndPointY",0),me.addGetterSetter(Lr,"fillPatternRotation",0),me.backCompat(Lr,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var Dr=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Fr=Dr.length;class Gr extends qe{constructor(t){super(t),this.canvas=new ke,this.hitCanvas=new Oe({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ue.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ue.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content)&&(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ue.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ue.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Ue.prototype.remove.call(this),t&&t.parentNode&&se._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&se.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),Ue.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){const t=this.visible();this.canvas._canvas.style.display=t?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){se.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){se.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,se.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,r=!1;;){for(let n=0;n<Fr;n++){const i=Dr[n],a=this._getIntersection({x:t.x+i.x*e,y:t.y+i.y*e}),o=a.shape;if(o)return o;if(r=!!a.antialiased,!a.antialiased)break}if(!r)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,n=r[3];if(255===n){const t=se._rgbToHex(r[0],r[1],r[2]),e=Ir["#"+t];return e?{shape:e}:{antialiased:!0}}return n>0?{antialiased:!0}:{}}drawScene(t,e){var r=this.getLayer(),n=t||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),qe.prototype.drawScene.call(this,n,e),this._fire("draw",{node:this}),this}drawHit(t,e){var r=this.getLayer(),n=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),qe.prototype.drawHit.call(this,n,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){se.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return se.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return se.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Gr.prototype.nodeType="Layer",Qt(Gr),me.addGetterSetter(Gr,"imageSmoothingEnabled",!0),me.addGetterSetter(Gr,"clearBeforeDraw",!0),me.addGetterSetter(Gr,"hitGraphEnabled",!0,ge());class Nr extends Gr{constructor(t){super(t),this.listening(!1),se.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Nr.prototype.nodeType="FastLayer",Qt(Nr);class Br extends qe{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&se.throw("You may only add groups and shapes to groups.")}}Br.prototype.nodeType="Group",Qt(Br);var Wr=Jt.performance&&Jt.performance.now?function(){return Jt.performance.now()}:function(){return(new Date).getTime()};class zr{constructor(t,e){this.id=zr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Wr(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e,r=this.layers,n=r.length;for(e=0;e<n;e++)if(r[e]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t,e=zr.animations,r=e.length;for(t=0;t<r;t++)if(e[t].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Wr(),zr._addAnimation(this),this}stop(){return zr._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e,r=t.id,n=this.animations,i=n.length;for(e=0;e<i;e++)if(n[e].id===r){this.animations.splice(e,1);break}}static _runFrames(){var t,e,r,n,i,a,o,s,h={},l=this.animations;for(n=0;n<l.length;n++)if(e=(t=l[n]).layers,r=t.func,t._updateFrameObject(Wr()),a=e.length,!r||!1!==r.call(t,t.frame))for(i=0;i<a;i++)void 0!==(o=e[i])._id&&(h[o._id]=o);for(s in h)h.hasOwnProperty(s)&&h[s].batchDraw()}static _animationLoop(){var t=zr;t.animations.length?(t._runFrames(),se.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,se.requestAnimFrame(this._animationLoop))}}zr.animations=[],zr.animIdCounter=0,zr.animRunning=!1;var Hr={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Ur=0,Vr=["fill","stroke","shadowColor"];class qr{constructor(t,e,r,n,i,a,o){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class Xr{constructor(t){var e,r,n=this,i=t.node,a=i._id,o=t.easing||Yr.Linear,s=!!t.yoyo;e=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.node=i,this._id=Ur++;var h=i.getLayer()||(i instanceof Kt.Stage?i.getLayers():null);for(r in h||se.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new zr((function(){n.tween.onEnterFrame()}),h),this.tween=new qr(r,(function(t){n._tweenFunc(t)}),o,0,1,1e3*e,s),this._addListeners(),Xr.attrs[a]||(Xr.attrs[a]={}),Xr.attrs[a][this._id]||(Xr.attrs[a][this._id]={}),Xr.tweens[a]||(Xr.tweens[a]={}),t)void 0===Hr[r]&&this._addAttr(r,t[r]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var r,n,i,a,o,s,h,l,c=this.node,u=c._id;if((i=Xr.tweens[u][t])&&delete Xr.attrs[u][i][t],r=c.getAttr(t),se._isArray(e))if(n=[],o=Math.max(e.length,r.length),"points"===t&&e.length!==r.length&&(e.length>r.length?(h=r,r=se._prepareArrayForTween(r,e,c.closed())):(s=e,e=se._prepareArrayForTween(e,r,c.closed()))),0===t.indexOf("fill"))for(a=0;a<o;a++)if(a%2==0)n.push(e[a]-r[a]);else{var d=se.colorToRGBA(r[a]);l=se.colorToRGBA(e[a]),r[a]=d,n.push({r:l.r-d.r,g:l.g-d.g,b:l.b-d.b,a:l.a-d.a})}else for(a=0;a<o;a++)n.push(e[a]-r[a]);else-1!==Vr.indexOf(t)?(r=se.colorToRGBA(r),n={r:(l=se.colorToRGBA(e)).r-r.r,g:l.g-r.g,b:l.b-r.b,a:l.a-r.a}):n=e-r;Xr.attrs[u][this._id][t]={start:r,diff:n,end:e,trueEnd:s,trueStart:h},Xr.tweens[u][t]=this._id}_tweenFunc(t){var e,r,n,i,a,o,s,h,l=this.node,c=Xr.attrs[l._id][this._id];for(e in c){if(n=(r=c[e]).start,i=r.diff,h=r.end,se._isArray(n))if(a=[],s=Math.max(n.length,h.length),0===e.indexOf("fill"))for(o=0;o<s;o++)o%2==0?a.push((n[o]||0)+i[o]*t):a.push("rgba("+Math.round(n[o].r+i[o].r*t)+","+Math.round(n[o].g+i[o].g*t)+","+Math.round(n[o].b+i[o].b*t)+","+(n[o].a+i[o].a*t)+")");else for(o=0;o<s;o++)a.push((n[o]||0)+i[o]*t);else a=-1!==Vr.indexOf(e)?"rgba("+Math.round(n.r+i.r*t)+","+Math.round(n.g+i.g*t)+","+Math.round(n.b+i.b*t)+","+(n.a+i.a*t)+")":n+i*t;l.setAttr(e,a)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=Xr.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=Xr.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t,e=this.node._id,r=this._id,n=Xr.tweens[e];for(t in this.pause(),n)delete Xr.tweens[e][t];delete Xr.attrs[e][r]}}Xr.attrs={},Xr.tweens={},Ue.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Xr(t).play()};const Yr={BackEaseIn(t,e,r,n){var i=1.70158;return r*(t/=n)*t*((i+1)*t-i)+e},BackEaseOut(t,e,r,n){var i=1.70158;return r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,r,n){var i=1.70158;return(t/=n/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+e:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn(t,e,r,n,i,a){var o=0;return 0===t?e:1==(t/=n)?e+r:(a||(a=.3*n),!i||i<Math.abs(r)?(i=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a)+e)},ElasticEaseOut(t,e,r,n,i,a){var o=0;return 0===t?e:1==(t/=n)?e+r:(a||(a=.3*n),!i||i<Math.abs(r)?(i=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/a)+r+e)},ElasticEaseInOut(t,e,r,n,i,a){var o=0;return 0===t?e:2==(t/=n/2)?e+r:(a||(a=n*(.3*1.5)),!i||i<Math.abs(r)?(i=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a)*.5+r+e)},BounceEaseOut:(t,e,r,n)=>(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,e,r,n)=>r-Yr.BounceEaseOut(n-t,0,r,n)+e,BounceEaseInOut:(t,e,r,n)=>t<n/2?.5*Yr.BounceEaseIn(2*t,0,r,n)+e:.5*Yr.BounceEaseOut(2*t-n,0,r,n)+.5*r+e,EaseIn:(t,e,r,n)=>r*(t/=n)*t+e,EaseOut:(t,e,r,n)=>-r*(t/=n)*(t-2)+e,EaseInOut:(t,e,r,n)=>(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,r,n)=>r*(t/=n)*t*t*t*t+e,StrongEaseOut:(t,e,r,n)=>r*((t=t/n-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,r,n)=>(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,r,n)=>r*t/n+e},$r=se._assign(Kt,{Util:se,Transform:Zt,Node:Ue,Container:qe,Stage:kr,stages:Pr,Layer:Gr,FastLayer:Nr,Group:Br,DD:Ae,Shape:Lr,shapes:Ir,Animation:zr,Tween:Xr,Easings:Yr,Context:we,Canvas:Pe});class Jr extends Lr{_sceneFunc(t){var e=Kt.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,r),t.arc(0,0,this.innerRadius(),e,0,!r),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),r=this.clockwise(),n=Kt.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(n,Math.PI)),a=Math.sin(Math.min(Math.max(Math.PI,n),3*Math.PI/2)),o=Math.sin(Math.min(n,Math.PI/2)),s=i*(i>0?t:e),h=a*(a>0?t:e),l=o*(o>0?e:t);return{x:s,y:r?-1*l:h,width:1*e-s,height:l-h}}}function Kr(t,e,r,n,i,a,o){var s=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),h=Math.sqrt(Math.pow(i-r,2)+Math.pow(a-n,2)),l=o*s/(s+h),c=o*h/(s+h);return[r-l*(i-t),n-l*(a-e),r+c*(i-t),n+c*(a-e)]}function Qr(t,e){var r,n,i=t.length,a=[];for(r=2;r<i-2;r+=2)n=Kr(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e),isNaN(n[0])||(a.push(n[0]),a.push(n[1]),a.push(t[r]),a.push(t[r+1]),a.push(n[2]),a.push(n[3]));return a}Jr.prototype._centroid=!0,Jr.prototype.className="Arc",Jr.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Qt(Jr),me.addGetterSetter(Jr,"innerRadius",0,ce()),me.addGetterSetter(Jr,"outerRadius",0,ce()),me.addGetterSetter(Jr,"angle",0,ce()),me.addGetterSetter(Jr,"clockwise",!1,ge());class Zr extends Lr{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){var e,r,n,i=this.points(),a=i.length,o=this.tension(),s=this.closed(),h=this.bezier();if(a){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==o&&a>4){for(r=(e=this.getTensionPoints()).length,n=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n<r-2;)t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);s||t.quadraticCurveTo(e[r-2],e[r-1],i[a-2],i[a-1])}else if(h)for(n=2;n<a;)t.bezierCurveTo(i[n++],i[n++],i[n++],i[n++],i[n++],i[n++]);else for(n=2;n<a;n+=2)t.lineTo(i[n],i[n+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Qr(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,r=this.tension(),n=Kr(t[e-2],t[e-1],t[0],t[1],t[2],t[3],r),i=Kr(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],r),a=Qr(t,r);return[n[2],n[3]].concat(a).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],n[0],n[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,r,n=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],i=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],r=t[2*s+1],n=Math.min(n,e),i=Math.max(i,e),a=Math.min(a,r),o=Math.max(o,r);return{x:n,y:a,width:i-n,height:o-a}}}Zr.prototype.className="Line",Zr.prototype._attrsAffectingSize=["points","bezier","tension"],Qt(Zr),me.addGetterSetter(Zr,"closed",!1),me.addGetterSetter(Zr,"bezier",!1),me.addGetterSetter(Zr,"tension",0,ce()),me.addGetterSetter(Zr,"points",[],function(){if(Kt.isUnminified)return function(t,e){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&t instanceof r||(se._isArray(t)?t.forEach((function(t){se._isNumber(t)||se.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):se.warn(he(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}());class tn extends Lr{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=tn.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength;this.on("dataChange.konva",(function(){this.dataArray=tn.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength}))}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var r=!1,n=0;n<e.length;n++){var i=e[n].command,a=e[n].points;switch(i){case"L":t.lineTo(a[0],a[1]);break;case"M":t.moveTo(a[0],a[1]);break;case"C":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],s=a[1],h=a[2],l=a[3],c=a[4],u=a[5],d=a[6],f=a[7],p=h>l?h:l,g=h>l?1:h/l,v=h>l?l/h:1;t.translate(o,s),t.rotate(d),t.scale(g,v),t.arc(0,0,p,c,c+u,1-f),t.scale(1/g,1/v),t.rotate(-d),t.translate(-o,-s);break;case"z":r=!0,t.closePath()}}r||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach((function(e){if("A"===e.command){var r=e.points[4],n=e.points[5],i=e.points[4]+n,a=Math.PI/180;if(Math.abs(r-i)<a&&(a=Math.abs(r-i)),n<0)for(let n=r-a;n>i;n-=a){const r=tn.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],n,0);t.push(r.x,r.y)}else for(let n=r+a;n<i;n+=a){const r=tn.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],n,0);t.push(r.x,r.y)}}else if("C"===e.command)for(let r=0;r<=1;r+=.01){const n=tn.getPointOnCubicBezier(r,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(n.x,n.y)}else t=t.concat(e.points)}));for(var e,r,n=t[0],i=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],r=t[2*s+1],isNaN(e)||(n=Math.min(n,e),i=Math.max(i,e)),isNaN(r)||(a=Math.min(a,r),o=Math.max(o,r));return{x:n,y:a,width:i-n,height:o-a}}getLength(){return this.pathLength}getPointAtLength(t){var e,r=0,n=this.dataArray.length;if(!n)return null;for(;r<n&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===n)return{x:(e=this.dataArray[r-1].points.slice(-2))[0],y:e[1]};if(t<.01)return{x:(e=this.dataArray[r].points.slice(0,2))[0],y:e[1]};var i=this.dataArray[r],a=i.points;switch(i.command){case"L":return tn.getPointOnLine(t,i.start.x,i.start.y,a[0],a[1]);case"C":return tn.getPointOnCubicBezier(t/i.pathLength,i.start.x,i.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return tn.getPointOnQuadraticBezier(t/i.pathLength,i.start.x,i.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],s=a[1],h=a[2],l=a[3],c=a[4],u=a[5],d=a[6];return c+=u*t/i.pathLength,tn.getPointOnEllipticalArc(o,s,h,l,c,d)}return null}static getLineLength(t,e,r,n){return Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))}static getPointOnLine(t,e,r,n,i,a,o){void 0===a&&(a=e),void 0===o&&(o=r);var s=(i-r)/(n-e+1e-8),h=Math.sqrt(t*t/(1+s*s));n<e&&(h*=-1);var l,c=s*h;if(n===e)l={x:a,y:o+c};else if((o-r)/(a-e+1e-8)===s)l={x:a+h,y:o+c};else{var u,d,f=this.getLineLength(e,r,n,i),p=(a-e)*(n-e)+(o-r)*(i-r);u=e+(p/=f*f)*(n-e),d=r+p*(i-r);var g=this.getLineLength(a,o,u,d),v=Math.sqrt(t*t-g*g);h=Math.sqrt(v*v/(1+s*s)),n<e&&(h*=-1),l={x:u+h,y:d+(c=s*h)}}return l}static getPointOnCubicBezier(t,e,r,n,i,a,o,s,h){function l(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function u(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:s*l(t)+a*c(t)+n*u(t)+e*d(t),y:h*l(t)+o*c(t)+i*u(t)+r*d(t)}}static getPointOnQuadraticBezier(t,e,r,n,i,a,o){function s(t){return t*t}function h(t){return 2*t*(1-t)}function l(t){return(1-t)*(1-t)}return{x:a*s(t)+n*h(t)+e*l(t),y:o*s(t)+i*h(t)+r*l(t)}}static getPointOnEllipticalArc(t,e,r,n,i,a){var o=Math.cos(a),s=Math.sin(a),h=r*Math.cos(i),l=n*Math.sin(i);return{x:t+(h*o-l*s),y:e+(h*s+l*o)}}static parsePathData(t){if(!t)return[];var e=t,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var n=0;n<r.length;n++)e=e.replace(new RegExp(r[n],"g"),"|"+r[n]);var i,a=e.split("|"),o=[],s=[],h=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(n=1;n<a.length;n++){var u=a[n],d=u.charAt(0);for(u=u.slice(1),s.length=0;i=c.exec(u);)s.push(i[0]);for(var f=[],p=0,g=s.length;p<g;p++)if("00"!==s[p]){var v=parseFloat(s[p]);isNaN(v)?f.push(0):f.push(v)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var y,m,b,_,w,x,S,C,P,k,O=null,A=[],E=h,T=l;switch(d){case"l":h+=f.shift(),l+=f.shift(),O="L",A.push(h,l);break;case"L":h=f.shift(),l=f.shift(),A.push(h,l);break;case"m":var j=f.shift(),M=f.shift();if(h+=j,l+=M,O="M",o.length>2&&"z"===o[o.length-1].command)for(var R=o.length-2;R>=0;R--)if("M"===o[R].command){h=o[R].points[0]+j,l=o[R].points[1]+M;break}A.push(h,l),d="l";break;case"M":h=f.shift(),l=f.shift(),O="M",A.push(h,l),d="L";break;case"h":h+=f.shift(),O="L",A.push(h,l);break;case"H":h=f.shift(),O="L",A.push(h,l);break;case"v":l+=f.shift(),O="L",A.push(h,l);break;case"V":l=f.shift(),O="L",A.push(h,l);break;case"C":A.push(f.shift(),f.shift(),f.shift(),f.shift()),h=f.shift(),l=f.shift(),A.push(h,l);break;case"c":A.push(h+f.shift(),l+f.shift(),h+f.shift(),l+f.shift()),h+=f.shift(),l+=f.shift(),O="C",A.push(h,l);break;case"S":m=h,b=l,"C"===(y=o[o.length-1]).command&&(m=h+(h-y.points[2]),b=l+(l-y.points[3])),A.push(m,b,f.shift(),f.shift()),h=f.shift(),l=f.shift(),O="C",A.push(h,l);break;case"s":m=h,b=l,"C"===(y=o[o.length-1]).command&&(m=h+(h-y.points[2]),b=l+(l-y.points[3])),A.push(m,b,h+f.shift(),l+f.shift()),h+=f.shift(),l+=f.shift(),O="C",A.push(h,l);break;case"Q":A.push(f.shift(),f.shift()),h=f.shift(),l=f.shift(),A.push(h,l);break;case"q":A.push(h+f.shift(),l+f.shift()),h+=f.shift(),l+=f.shift(),O="Q",A.push(h,l);break;case"T":m=h,b=l,"Q"===(y=o[o.length-1]).command&&(m=h+(h-y.points[0]),b=l+(l-y.points[1])),h=f.shift(),l=f.shift(),O="Q",A.push(m,b,h,l);break;case"t":m=h,b=l,"Q"===(y=o[o.length-1]).command&&(m=h+(h-y.points[0]),b=l+(l-y.points[1])),h+=f.shift(),l+=f.shift(),O="Q",A.push(m,b,h,l);break;case"A":_=f.shift(),w=f.shift(),x=f.shift(),S=f.shift(),C=f.shift(),P=h,k=l,h=f.shift(),l=f.shift(),O="A",A=this.convertEndpointToCenterParameterization(P,k,h,l,S,C,_,w,x);break;case"a":_=f.shift(),w=f.shift(),x=f.shift(),S=f.shift(),C=f.shift(),P=h,k=l,h+=f.shift(),l+=f.shift(),O="A",A=this.convertEndpointToCenterParameterization(P,k,h,l,S,C,_,w,x)}o.push({command:O||d,points:A,start:{x:E,y:T},pathLength:this.calcLength(E,T,O||d,A)})}"z"!==d&&"Z"!==d||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(t,e,r,n){var i,a,o,s,h=tn;switch(r){case"L":return h.getLineLength(t,e,n[0],n[1]);case"C":for(i=0,a=h.getPointOnCubicBezier(0,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),s=.01;s<=1;s+=.01)o=h.getPointOnCubicBezier(s,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),i+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;return i;case"Q":for(i=0,a=h.getPointOnQuadraticBezier(0,t,e,n[0],n[1],n[2],n[3]),s=.01;s<=1;s+=.01)o=h.getPointOnQuadraticBezier(s,t,e,n[0],n[1],n[2],n[3]),i+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;return i;case"A":i=0;var l=n[4],c=n[5],u=n[4]+c,d=Math.PI/180;if(Math.abs(l-u)<d&&(d=Math.abs(l-u)),a=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),c<0)for(s=l-d;s>u;s-=d)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),i+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=l+d;s<u;s+=d)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),i+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],u,0),i+=h.getLineLength(a.x,a.y,o.x,o.y)}return 0}static convertEndpointToCenterParameterization(t,e,r,n,i,a,o,s,h){var l=h*(Math.PI/180),c=Math.cos(l)*(t-r)/2+Math.sin(l)*(e-n)/2,u=-1*Math.sin(l)*(t-r)/2+Math.cos(l)*(e-n)/2,d=c*c/(o*o)+u*u/(s*s);d>1&&(o*=Math.sqrt(d),s*=Math.sqrt(d));var f=Math.sqrt((o*o*(s*s)-o*o*(u*u)-s*s*(c*c))/(o*o*(u*u)+s*s*(c*c)));i===a&&(f*=-1),isNaN(f)&&(f=0);var p=f*o*u/s,g=f*-s*c/o,v=(t+r)/2+Math.cos(l)*p-Math.sin(l)*g,y=(e+n)/2+Math.sin(l)*p+Math.cos(l)*g,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},w=_([1,0],[(c-p)/o,(u-g)/s]),x=[(c-p)/o,(u-g)/s],S=[(-1*c-p)/o,(-1*u-g)/s],C=_(x,S);return b(x,S)<=-1&&(C=Math.PI),b(x,S)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),[v,y,o,s,w,C,l,a]}}tn.prototype.className="Path",tn.prototype._attrsAffectingSize=["data"],Qt(tn),me.addGetterSetter(tn,"data");class en extends Zr{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,r=this.points(),n=r,i=0!==this.tension()&&r.length>4;i&&(n=this.getTensionPoints());var a,o,s=this.pointerLength(),h=r.length;if(i){const t=[n[n.length-4],n[n.length-3],n[n.length-2],n[n.length-1],r[h-2],r[h-1]],e=tn.calcLength(n[n.length-4],n[n.length-3],"C",t),i=tn.getPointOnQuadraticBezier(Math.min(1,1-s/e),t[0],t[1],t[2],t[3],t[4],t[5]);a=r[h-2]-i.x,o=r[h-1]-i.y}else a=r[h-2]-r[h-4],o=r[h-1]-r[h-3];var l=(Math.atan2(o,a)+e)%e,c=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(r[h-2],r[h-1]),t.rotate(l),t.moveTo(0,0),t.lineTo(-s,c/2),t.lineTo(-s,-c/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(r[0],r[1]),i?(a=(n[0]+n[2])/2-r[0],o=(n[1]+n[3])/2-r[1]):(a=r[2]-r[0],o=r[3]-r[1]),t.rotate((Math.atan2(-o,-a)+e)%e),t.moveTo(0,0),t.lineTo(-s,c/2),t.lineTo(-s,-c/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}en.prototype.className="Arrow",Qt(en),me.addGetterSetter(en,"pointerLength",10,ce()),me.addGetterSetter(en,"pointerWidth",10,ce()),me.addGetterSetter(en,"pointerAtBeginning",!1),me.addGetterSetter(en,"pointerAtEnding",!0);class rn extends Lr{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}rn.prototype._centroid=!0,rn.prototype.className="Circle",rn.prototype._attrsAffectingSize=["radius"],Qt(rn),me.addGetterSetter(rn,"radius",0,ce());class nn extends Lr{_sceneFunc(t){var e=this.radiusX(),r=this.radiusY();t.beginPath(),t.save(),e!==r&&t.scale(1,r/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}nn.prototype.className="Ellipse",nn.prototype._centroid=!0,nn.prototype._attrsAffectingSize=["radiusX","radiusY"],Qt(nn),me.addComponentsGetterSetter(nn,"radius",["x","y"]),me.addGetterSetter(nn,"radiusX",0,ce()),me.addGetterSetter(nn,"radiusY",0,ce());class an extends Lr{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),r=this.getHeight(),n=this.attrs.image;let i;if(n){const t=this.attrs.cropWidth,a=this.attrs.cropHeight;i=t&&a?[n,this.cropX(),this.cropY(),t,a,0,0,e,r]:[n,0,0,e,r]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,e,r),t.closePath(),t.fillStrokeShape(this)),n&&t.drawImage.apply(t,i)}_hitFunc(t){var e=this.width(),r=this.height();t.beginPath(),t.rect(0,0,e,r),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e,r=null){var n=se.createImageElement();n.onload=function(){var t=new an({image:n});e(t)},n.onerror=r,n.crossOrigin="Anonymous",n.src=t}}an.prototype.className="Image",Qt(an),me.addGetterSetter(an,"image"),me.addComponentsGetterSetter(an,"crop",["x","y","width","height"]),me.addGetterSetter(an,"cropX",0,ce()),me.addGetterSetter(an,"cropY",0,ce()),me.addGetterSetter(an,"cropWidth",0,ce()),me.addGetterSetter(an,"cropHeight",0,ce());var on=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],sn="up",hn="right",ln="down",cn="left",un=on.length;class dn extends Br{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e,r=this,n=function(){r._sync()};for(e=0;e<un;e++)t.on(on[e]+"Change.konva",n)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t,e,r,n,i,a,o,s=this.getText(),h=this.getTag();if(s&&h){switch(t=s.width(),e=s.height(),r=h.pointerDirection(),n=h.pointerWidth(),o=h.pointerHeight(),i=0,a=0,r){case sn:i=t/2,a=-1*o;break;case hn:i=t+n,a=e/2;break;case ln:i=t/2,a=e+o;break;case cn:i=-1*n,a=e/2}h.setAttrs({x:-1*i,y:-1*a,width:t,height:e}),s.setAttrs({x:-1*i,y:-1*a})}}}dn.prototype.className="Label",Qt(dn);class fn extends Lr{_sceneFunc(t){var e=this.width(),r=this.height(),n=this.pointerDirection(),i=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let s=0,h=0,l=0,c=0;"number"==typeof o?s=h=l=c=Math.min(o,e/2,r/2):(s=Math.min(o[0]||0,e/2,r/2),h=Math.min(o[1]||0,e/2,r/2),c=Math.min(o[2]||0,e/2,r/2),l=Math.min(o[3]||0,e/2,r/2)),t.beginPath(),t.moveTo(s,0),n===sn&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*a),t.lineTo((e+i)/2,0)),t.lineTo(e-h,0),t.arc(e-h,h,h,3*Math.PI/2,0,!1),n===hn&&(t.lineTo(e,(r-a)/2),t.lineTo(e+i,r/2),t.lineTo(e,(r+a)/2)),t.lineTo(e,r-c),t.arc(e-c,r-c,c,0,Math.PI/2,!1),n===ln&&(t.lineTo((e+i)/2,r),t.lineTo(e/2,r+a),t.lineTo((e-i)/2,r)),t.lineTo(l,r),t.arc(l,r-l,l,Math.PI/2,Math.PI,!1),n===cn&&(t.lineTo(0,(r+a)/2),t.lineTo(-1*i,r/2),t.lineTo(0,(r-a)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,r=this.pointerWidth(),n=this.pointerHeight(),i=this.pointerDirection(),a=this.width(),o=this.height();return i===sn?(e-=n,o+=n):i===ln?o+=n:i===cn?(t-=1.5*r,a+=r):i===hn&&(a+=1.5*r),{x:t,y:e,width:a,height:o}}}fn.prototype.className="Tag",Qt(fn),me.addGetterSetter(fn,"pointerDirection","none"),me.addGetterSetter(fn,"pointerWidth",0,ce()),me.addGetterSetter(fn,"pointerHeight",0,ce()),me.addGetterSetter(fn,"cornerRadius",0,ue(4));class pn extends Lr{_sceneFunc(t){var e=this.cornerRadius(),r=this.width(),n=this.height();if(t.beginPath(),e){let i=0,a=0,o=0,s=0;"number"==typeof e?i=a=o=s=Math.min(e,r/2,n/2):(i=Math.min(e[0]||0,r/2,n/2),a=Math.min(e[1]||0,r/2,n/2),s=Math.min(e[2]||0,r/2,n/2),o=Math.min(e[3]||0,r/2,n/2)),t.moveTo(i,0),t.lineTo(r-a,0),t.arc(r-a,a,a,3*Math.PI/2,0,!1),t.lineTo(r,n-s),t.arc(r-s,n-s,s,0,Math.PI/2,!1),t.lineTo(o,n),t.arc(o,n-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,r,n);t.closePath(),t.fillStrokeShape(this)}}pn.prototype.className="Rect",Qt(pn),me.addGetterSetter(pn,"cornerRadius",0,ue(4));class gn extends Lr{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var r=1;r<e.length;r++)t.lineTo(e[r].x,e[r].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,r=[];for(var n=0;n<t;n++)r.push({x:e*Math.sin(2*n*Math.PI/t),y:-1*e*Math.cos(2*n*Math.PI/t)});return r}getSelfRect(){const t=this._getPoints();var e=t[0].x,r=t[0].y,n=t[0].x,i=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),r=Math.max(r,t.x),n=Math.min(n,t.y),i=Math.max(i,t.y)})),{x:e,y:n,width:r-e,height:i-n}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}gn.prototype.className="RegularPolygon",gn.prototype._centroid=!0,gn.prototype._attrsAffectingSize=["radius"],Qt(gn),me.addGetterSetter(gn,"radius",0,ce()),me.addGetterSetter(gn,"sides",0,ce());var vn=2*Math.PI;class yn extends Lr{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,vn,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),vn,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}yn.prototype.className="Ring",yn.prototype._centroid=!0,yn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Qt(yn),me.addGetterSetter(yn,"innerRadius",0,ce()),me.addGetterSetter(yn,"outerRadius",0,ce());class mn extends Lr{constructor(t){super(t),this._updated=!0,this.anim=new zr((()=>{var t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){var e=this.animation(),r=this.frameIndex(),n=4*r,i=this.animations()[e],a=this.frameOffsets(),o=i[n+0],s=i[n+1],h=i[n+2],l=i[n+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,h,l),t.closePath(),t.fillStrokeShape(this)),c)if(a){var u=a[e],d=2*r;t.drawImage(c,o,s,h,l,u[d+0],u[d+1],h,l)}else t.drawImage(c,o,s,h,l,0,0,h,l)}_hitFunc(t){var e=this.animation(),r=this.frameIndex(),n=4*r,i=this.animations()[e],a=this.frameOffsets(),o=i[n+2],s=i[n+3];if(t.beginPath(),a){var h=a[e],l=2*r;t.rect(h[l+0],h[l+1],o,s)}else t.rect(0,0,o,s);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}mn.prototype.className="Sprite",Qt(mn),me.addGetterSetter(mn,"animation"),me.addGetterSetter(mn,"animations"),me.addGetterSetter(mn,"frameOffsets"),me.addGetterSetter(mn,"image"),me.addGetterSetter(mn,"frameIndex",0,ce()),me.addGetterSetter(mn,"frameRate",17,ce()),me.backCompat(mn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class bn extends Lr{_sceneFunc(t){var e=this.innerRadius(),r=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-r);for(var i=1;i<2*n;i++){var a=i%2==0?r:e,o=a*Math.sin(i*Math.PI/n),s=-1*a*Math.cos(i*Math.PI/n);t.lineTo(o,s)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function _n(t){return Array.from(t)}bn.prototype.className="Star",bn.prototype._centroid=!0,bn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Qt(bn),me.addGetterSetter(bn,"numPoints",5,ce()),me.addGetterSetter(bn,"innerRadius",0,ce()),me.addGetterSetter(bn,"outerRadius",0,ce());var wn,xn="auto",Sn="justify",Cn="left",Pn="middle",kn="normal",On=" ",An="none",En=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Tn=En.length;function jn(){return wn||(wn=se.createCanvasElement().getContext("2d"))}class Mn extends Lr{constructor(t){super(function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<Tn;e++)this.on(En[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,r=e.length;if(this.text()){var n,i=this.padding(),a=this.fontSize(),o=this.lineHeight()*a,s=this.verticalAlign(),h=0,l=this.align(),c=this.getWidth(),u=this.letterSpacing(),d=this.fill(),f=this.textDecoration(),p=-1!==f.indexOf("underline"),g=-1!==f.indexOf("line-through"),v=0,y=(v=o/2,0),m=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",Pn),t.setAttr("textAlign",Cn),s===Pn?h=(this.getHeight()-r*o-2*i)/2:"bottom"===s&&(h=this.getHeight()-r*o-2*i),t.translate(i,h+i),n=0;n<r;n++){y=0,m=0;var b,_,w,x=e[n],S=x.text,C=x.width,P=x.lastInParagraph;if(t.save(),"right"===l?y+=c-C-2*i:"center"===l&&(y+=(c-C-2*i)/2),p&&(t.save(),t.beginPath(),t.moveTo(y,v+m+Math.round(a/2)),_=0===(b=S.split(" ").length-1),w=l===Sn&&P&&!_?c-2*i:C,t.lineTo(y+Math.round(w),v+m+Math.round(a/2)),t.lineWidth=a/15,t.strokeStyle=d,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(y,v+m),_=0===(b=S.split(" ").length-1),w=l===Sn&&P&&!_?c-2*i:C,t.lineTo(y+Math.round(w),v+m),t.lineWidth=a/15,t.strokeStyle=d,t.stroke(),t.restore()),0!==u||l===Sn){b=S.split(" ").length-1;for(var k=_n(S),O=0;O<k.length;O++){var A=k[O];" "!==A||P||l!==Sn||(y+=(c-2*i-C)/b),this._partialTextX=y,this._partialTextY=v+m,this._partialText=A,t.fillStrokeShape(this),y+=this.measureSize(A).width+u}}else this._partialTextX=y,this._partialTextY=v+m,this._partialText=S,t.fillStrokeShape(this);t.restore(),r>1&&(v+=o)}}}_hitFunc(t){var e=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,e,r),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=se._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return this.attrs.width===xn||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===xn||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return se.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,r=jn(),n=this.fontSize();return r.save(),r.font=this._getContextFont(),e=r.measureText(t),r.restore(),{width:e.width,height:n}}_getContextFont(){return this.fontStyle()+On+this.fontVariant()+On+(this.fontSize()+"px ")+this.fontFamily().split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,r=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!r&&(t=`"${t}"`),t})).join(", ")}_addTextLine(t){this.align()===Sn&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e,lastInParagraph:!1})}_getTextWidth(t){var e=this.letterSpacing(),r=t.length;return jn().measureText(t).width+(r?e*(r-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),r=0,n=this.lineHeight()*e,i=this.attrs.width,a=this.attrs.height,o=i!==xn&&void 0!==i,s=a!==xn&&void 0!==a,h=this.padding(),l=i-2*h,c=a-2*h,u=0,d=this.wrap(),f="char"!==d&&d!==An,p=this.ellipsis();this.textArr=[],jn().font=this._getContextFont();for(var g=p?this._getTextWidth("…"):0,v=0,y=t.length;v<y;++v){var m=t[v],b=this._getTextWidth(m);if(o&&b>l)for(;m.length>0;){for(var _=0,w=m.length,x="",S=0;_<w;){var C=_+w>>>1,P=m.slice(0,C+1),k=this._getTextWidth(P)+g;k<=l?(_=C+1,x=P,S=k):w=C}if(!x)break;if(f){var O,A=m[x.length];(O=(A===On||"-"===A)&&S<=l?x.length:Math.max(x.lastIndexOf(On),x.lastIndexOf("-"))+1)>0&&(_=O,x=x.slice(0,_),S=this._getTextWidth(x))}if(x=x.trimRight(),this._addTextLine(x),r=Math.max(r,S),u+=n,this._shouldHandleEllipsis(u)){this._tryToAddEllipsisToLastLine();break}if((m=(m=m.slice(_)).trimLeft()).length>0&&(b=this._getTextWidth(m))<=l){this._addTextLine(m),u+=n,r=Math.max(r,b);break}}else this._addTextLine(m),u+=n,r=Math.max(r,b),this._shouldHandleEllipsis(u)&&v<y-1&&this._tryToAddEllipsisToLastLine();if(s&&u+n>c)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=e,this.textWidth=r}_shouldHandleEllipsis(t){var e=+this.fontSize(),r=this.lineHeight()*e,n=this.attrs.height,i=n!==xn&&void 0!==n,a=n-2*this.padding();return!(this.wrap()!==An)||i&&t+r>a}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,e=t!==xn&&void 0!==t,r=t-2*this.padding(),n=this.ellipsis(),i=this.textArr[this.textArr.length-1];if(i&&n){if(e)this._getTextWidth(i.text+"…")<r||(i.text=i.text.slice(0,i.text.length-3));this.textArr.splice(this.textArr.length-1,1),this._addTextLine(i.text+"…")}}getStrokeScaleEnabled(){return!0}}Mn.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},Mn.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Mn.prototype.className="Text",Mn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],Qt(Mn),me.overWriteSetter(Mn,"width",de()),me.overWriteSetter(Mn,"height",de()),me.addGetterSetter(Mn,"fontFamily","Arial"),me.addGetterSetter(Mn,"fontSize",12,ce()),me.addGetterSetter(Mn,"fontStyle",kn),me.addGetterSetter(Mn,"fontVariant",kn),me.addGetterSetter(Mn,"padding",0,ce()),me.addGetterSetter(Mn,"align",Cn),me.addGetterSetter(Mn,"verticalAlign","top"),me.addGetterSetter(Mn,"lineHeight",1,ce()),me.addGetterSetter(Mn,"wrap","word"),me.addGetterSetter(Mn,"ellipsis",!1,ge()),me.addGetterSetter(Mn,"letterSpacing",0,ce()),me.addGetterSetter(Mn,"text","",fe()),me.addGetterSetter(Mn,"textDecoration","");var Rn="normal";function In(t){t.fillText(this.partialText,0,0)}function Ln(t){t.strokeText(this.partialText,0,0)}class Dn extends Lr{constructor(t){super(t),this.dummyCanvas=se.createCanvasElement(),this.dataArray=[],this.dataArray=tn.parsePathData(this.attrs.data),this.on("dataChange.konva",(function(){this.dataArray=tn.parsePathData(this.attrs.data),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),r=this.fill(),n=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var a=0;a<i.length;a++){t.save();var o=i[a].p0;t.translate(o.x,o.y),t.rotate(i[a].rotation),this.partialText=i[a].text,t.fillStrokeShape(this),"underline"===e&&(0===a&&t.moveTo(0,n/2+1),t.lineTo(n,n/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=r,t.lineWidth=n/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var r=e[0].p0;t.moveTo(r.x,r.y)}for(var n=0;n<e.length;n++){var i=e[n].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return se.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return Mn.prototype.setText.call(this,t)}_getContextFont(){return Mn.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var r=e.measureText(t);return e.restore(),{width:r.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,e=this._getTextSize(this.attrs.text),r=this.letterSpacing(),n=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var o=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(o+=t.dataArray[s].pathLength);var h=0;"center"===n&&(h=Math.max(0,o/2-a/2)),"right"===n&&(h=Math.max(0,o-a));for(var l,c,u,d=_n(this.text()),f=this.text().split(" ").length-1,p=-1,g=0,v=function(){g=0;for(var e=t.dataArray,r=p+1;r<e.length;r++){if(e[r].pathLength>0)return p=r,e[r];"M"===e[r].command&&(l={x:e[r].points[0],y:e[r].points[1]})}return{}},y=function(e){var i=t._getTextSize(e).width+r;" "===e&&"justify"===n&&(i+=(o-a)/f);var s=0,h=0;for(c=void 0;Math.abs(i-s)/i>.01&&h<20;){h++;for(var d=s;void 0===u;)(u=v())&&d+u.pathLength<i&&(d+=u.pathLength,u=void 0);if(0===Object.keys(u).length||void 0===l)return;var p=!1;switch(u.command){case"L":tn.getLineLength(l.x,l.y,u.points[0],u.points[1])>i?c=tn.getPointOnLine(i,l.x,l.y,u.points[0],u.points[1],l.x,l.y):u=void 0;break;case"A":var y=u.points[4],m=u.points[5],b=u.points[4]+m;0===g?g=y+1e-8:i>s?g+=Math.PI/180*m/Math.abs(m):g-=Math.PI/360*m/Math.abs(m),(m<0&&g<b||m>=0&&g>b)&&(g=b,p=!0),c=tn.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],g,u.points[6]);break;case"C":0===g?g=i>u.pathLength?1e-8:i/u.pathLength:i>s?g+=(i-s)/u.pathLength/2:g=Math.max(g-(s-i)/u.pathLength/2,0),g>1&&(g=1,p=!0),c=tn.getPointOnCubicBezier(g,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);break;case"Q":0===g?g=i/u.pathLength:i>s?g+=(i-s)/u.pathLength:g-=(s-i)/u.pathLength,g>1&&(g=1,p=!0),c=tn.getPointOnQuadraticBezier(g,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3])}void 0!==c&&(s=tn.getLineLength(l.x,l.y,c.x,c.y)),p&&(p=!1,u=void 0)}},m=h/(t._getTextSize("C").width+r)-1,b=0;b<m&&(y("C"),void 0!==l&&void 0!==c);b++)l=c;for(var _=0;_<d.length&&(y(d[_]),void 0!==l&&void 0!==c);_++){var w=tn.getLineLength(l.x,l.y,c.x,c.y),x=0;if(i)try{x=i(d[_-1],d[_])*this.fontSize()}catch(t){x=0}l.x+=x,c.x+=x,this.textWidth+=x;var S=tn.getPointOnLine(x+w/2,l.x,l.y,c.x,c.y),C=Math.atan2(c.y-l.y,c.x-l.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:d[_],rotation:C,p0:l,p1:c}),l=c}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,r,n=t[0]||0,i=t[0]||0,a=t[1]||0,o=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],r=t[2*s+1],n=Math.min(n,e),i=Math.max(i,e),a=Math.min(a,r),o=Math.max(o,r);var h=this.fontSize();return{x:n-h/2,y:a-h/2,width:i-n+h,height:o-a+h}}destroy(){return se.releaseCanvas(this.dummyCanvas),super.destroy()}}Dn.prototype._fillFunc=In,Dn.prototype._strokeFunc=Ln,Dn.prototype._fillFuncHit=In,Dn.prototype._strokeFuncHit=Ln,Dn.prototype.className="TextPath",Dn.prototype._attrsAffectingSize=["text","fontSize","data"],Qt(Dn),me.addGetterSetter(Dn,"data"),me.addGetterSetter(Dn,"fontFamily","Arial"),me.addGetterSetter(Dn,"fontSize",12,ce()),me.addGetterSetter(Dn,"fontStyle",Rn),me.addGetterSetter(Dn,"align","left"),me.addGetterSetter(Dn,"letterSpacing",0,ce()),me.addGetterSetter(Dn,"textBaseline","middle"),me.addGetterSetter(Dn,"fontVariant",Rn),me.addGetterSetter(Dn,"text",""),me.addGetterSetter(Dn,"textDecoration",null),me.addGetterSetter(Dn,"kerningFunc",null);var Fn="tr-konva",Gn=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((t=>t+".tr-konva")).join(" "),Nn="nodesRect",Bn=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Wn={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const zn="ontouchstart"in Kt._global;var Hn=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Un(t,e,r){const n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),i=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:n,y:i})}function Vn(t,e){const r=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return Un(t,e,r)}class qn extends Br{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Gn,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return se.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Fn+this._id}setNodes(t=[]){return this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},r=t._attrsAffectingSize.map((t=>t+"Change."+this._getEventNamespace())).join(" ");t.on(r,e),t.on(Bn.map((t=>t+`.${this._getEventNamespace()}`)).join(" "),e),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,e),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,(r=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(r,!1)})),t.on(`dragmove.${this._getEventNamespace()}`,(r=>{if(!e)return;const n=t.getAbsolutePosition(),i=n.x-e.x,a=n.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const n=e.getAbsolutePosition();e.setAbsolutePosition({x:n.x+i,y:n.y+a}),e.startDrag(r)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Nn),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Nn,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),r){var n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(r),a=t.getAbsolutePosition(r),o=n.x*i.x-t.offsetX()*i.x,s=n.y*i.y-t.offsetY()*i.y;const h=(Kt.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return Un({x:a.x+o*Math.cos(h)+s*Math.sin(-h),y:a.y+s*Math.cos(h)+o*Math.sin(h),width:n.width*i.x,height:n.height*i.y,rotation:h},-Kt.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var n=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],i=e.getAbsoluteTransform();n.forEach((function(e){var r=i.point(e);t.push(r)}))}));const e=new Zt;var r,n,i,a;e.rotate(-Kt.getAngle(this.rotation())),t.forEach((function(t){var o=e.point(t);void 0===r&&(r=i=o.x,n=a=o.y),r=Math.min(r,o.x),n=Math.min(n,o.y),i=Math.max(i,o.x),a=Math.max(a,o.y)})),e.invert();const o=e.point({x:r,y:n});return{x:o.x,y:o.y,width:i-r,height:a-n,rotation:Kt.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Hn.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new pn({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:zn?10:"auto"}),r=this;e.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{var r=Kt.getAngle(this.rotation()),n=function(t,e){if("rotater"===t)return"crosshair";e+=se.degToRad(Wn[t]||0);var r=(se.radToDeg(e)%360+360)%360;return se._inRange(r,337.5,360)||se._inRange(r,0,22.5)?"ns-resize":se._inRange(r,22.5,67.5)?"nesw-resize":se._inRange(r,67.5,112.5)?"ew-resize":se._inRange(r,112.5,157.5)?"nwse-resize":se._inRange(r,157.5,202.5)?"ns-resize":se._inRange(r,202.5,247.5)?"nesw-resize":se._inRange(r,247.5,292.5)?"ew-resize":se._inRange(r,292.5,337.5)?"nwse-resize":(se.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(t,r);e.getStage().content&&(e.getStage().content.style.cursor=n),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){var t=new Lr({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var e=this.getParent(),r=e.padding();t.beginPath(),t.rect(-r,-r,this.width()+2*r,this.height()+2*r),t.moveTo(this.width()/2,-r),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*se._sign(this.height())-r),t.fillStrokeShape(this)},hitFunc:(t,e)=>{if(this.shouldOverdrawWholeArea()){var r=this.padding();t.beginPath(),t.rect(-r,-r,e.width()+2*r,e.height()+2*r),t.fillStrokeShape(e)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),r=e.width,n=e.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));this.sin=Math.abs(n/i),this.cos=Math.abs(r/i),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t.evt,target:e})}))}_handleMouseMove(t){var e,r,n,i=this.findOne("."+this._movingAnchorName),a=i.getStage();a.setPointersPositions(t);const o=a.getPointerPosition();let s={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const h=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(s=this.anchorDragBoundFunc()(h,s,t)),i.setAbsolutePosition(s);const l=i.getAbsolutePosition();if(h.x!==l.x||h.y!==l.y)if("rotater"!==this._movingAnchorName){var c=this.keepRatio()||t.shiftKey,u=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(c){var d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};n=Math.sqrt(Math.pow(d.x-i.x(),2)+Math.pow(d.y-i.y(),2));var f=this.findOne(".top-left").x()>d.x?-1:1,p=this.findOne(".top-left").y()>d.y?-1:1;e=n*this.cos*f,r=n*this.sin*p,this.findOne(".top-left").x(d.x-e),this.findOne(".top-left").y(d.y-r)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(c){d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};n=Math.sqrt(Math.pow(i.x()-d.x,2)+Math.pow(d.y-i.y(),2));f=this.findOne(".top-right").x()<d.x?-1:1,p=this.findOne(".top-right").y()>d.y?-1:1;e=n*this.cos*f,r=n*this.sin*p,this.findOne(".top-right").x(d.x+e),this.findOne(".top-right").y(d.y-r)}var g=i.position();this.findOne(".top-left").y(g.y),this.findOne(".bottom-right").x(g.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(c){d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};n=Math.sqrt(Math.pow(d.x-i.x(),2)+Math.pow(i.y()-d.y,2));f=d.x<i.x()?-1:1,p=i.y()<d.y?-1:1;e=n*this.cos*f,r=n*this.sin*p,i.x(d.x-e),i.y(d.y+r)}g=i.position(),this.findOne(".top-left").x(g.x),this.findOne(".bottom-right").y(g.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(c){d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};n=Math.sqrt(Math.pow(i.x()-d.x,2)+Math.pow(i.y()-d.y,2));f=this.findOne(".bottom-right").x()<d.x?-1:1,p=this.findOne(".bottom-right").y()<d.y?-1:1;e=n*this.cos*f,r=n*this.sin*p,this.findOne(".bottom-right").x(d.x+e),this.findOne(".bottom-right").y(d.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(u=this.centeredScaling()||t.altKey){var v=this.findOne(".top-left"),y=this.findOne(".bottom-right"),m=v.x(),b=v.y(),_=this.getWidth()-y.x(),w=this.getHeight()-y.y();y.move({x:-m,y:-b}),v.move({x:_,y:w})}var x=this.findOne(".top-left").getAbsolutePosition();e=x.x,r=x.y;var S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:r,width:S,height:C,rotation:Kt.getAngle(this.rotation())},t)}else{var P=this._getNodeRect();e=i.x()-P.width/2,r=-i.y()+P.height/2;let n=Math.atan2(-r,e)+Math.PI/2;P.height<0&&(n-=Math.PI);const a=Kt.getAngle(this.rotation())+n,o=Kt.getAngle(this.rotationSnapTolerance()),s=function(t,e,r){let n=e;for(let i=0;i<t.length;i++){const a=Kt.getAngle(t[i]),o=Math.abs(a-e)%(2*Math.PI);Math.min(o,2*Math.PI-o)<r&&(n=a)}return n}(this.rotationSnaps(),a,o),h=Vn(P,s-P.rotation);this._fitNodesInto(h,t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((e=>{e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}}_fitNodesInto(t,e){var r=this._getNodeRect();if(se._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(se._inRange(t.height,2*-this.padding()-1,1))return void this.update();const n=this.flipEnabled();var i=new Zt;if(i.rotate(Kt.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=i.point({x:2*-this.padding(),y:0});if(t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,!n)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=i.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding(),!n)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=i.point({x:0,y:2*-this.padding()});if(t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!n)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=i.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!n)return void this.update()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(r,t);e?t=e:se.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,o=new Zt;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/a,r.height/a);const s=new Zt;s.translate(t.x,t.y),s.rotate(t.rotation),s.scale(t.width/a,t.height/a);const h=s.multiply(o.invert());this._nodes.forEach((t=>{var r;const n=t.getParent().getAbsoluteTransform(),i=t.getTransform().copy();i.translate(t.offsetX(),t.offsetY());const a=new Zt;a.multiply(n.copy().invert()).multiply(h).multiply(n).multiply(i);const o=a.decompose();t.setAttrs(o),this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(r=t.getLayer())||void 0===r||r.batchDraw()})),this.rotation(se._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(se._getRotation(e.rotation));var r=e.width,n=e.height,i=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),s=this.anchorSize();this.find("._anchor").forEach((t=>{t.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+o,offsetY:s/2+o,visible:a&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:s/2+o,visible:a&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:s/2-o,offsetY:s/2+o,visible:a&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:n/2,offsetX:s/2+o,visible:a&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:n/2,offsetX:s/2-o,visible:a&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:n,offsetX:s/2+o,offsetY:s/2-o,visible:a&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:n,offsetY:s/2-o,visible:a&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:n,offsetX:s/2-o,offsetY:s/2-o,visible:a&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*se._sign(n)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Br.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ue.prototype.toObject.call(this)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}qn.prototype.className="Transformer",Qt(qn),me.addGetterSetter(qn,"enabledAnchors",Hn,(function(t){return t instanceof Array||se.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===Hn.indexOf(t)&&se.warn("Unknown anchor name: "+t+". Available names are: "+Hn.join(", "))})),t||[]})),me.addGetterSetter(qn,"flipEnabled",!0,ge()),me.addGetterSetter(qn,"resizeEnabled",!0),me.addGetterSetter(qn,"anchorSize",10,ce()),me.addGetterSetter(qn,"rotateEnabled",!0),me.addGetterSetter(qn,"rotationSnaps",[]),me.addGetterSetter(qn,"rotateAnchorOffset",50,ce()),me.addGetterSetter(qn,"rotationSnapTolerance",5,ce()),me.addGetterSetter(qn,"borderEnabled",!0),me.addGetterSetter(qn,"anchorStroke","rgb(0, 161, 255)"),me.addGetterSetter(qn,"anchorStrokeWidth",1,ce()),me.addGetterSetter(qn,"anchorFill","white"),me.addGetterSetter(qn,"anchorCornerRadius",0,ce()),me.addGetterSetter(qn,"borderStroke","rgb(0, 161, 255)"),me.addGetterSetter(qn,"borderStrokeWidth",1,ce()),me.addGetterSetter(qn,"borderDash"),me.addGetterSetter(qn,"keepRatio",!0),me.addGetterSetter(qn,"centeredScaling",!1),me.addGetterSetter(qn,"ignoreStroke",!1),me.addGetterSetter(qn,"padding",0,ce()),me.addGetterSetter(qn,"node"),me.addGetterSetter(qn,"nodes"),me.addGetterSetter(qn,"boundBoxFunc"),me.addGetterSetter(qn,"anchorDragBoundFunc"),me.addGetterSetter(qn,"shouldOverdrawWholeArea",!1),me.addGetterSetter(qn,"useSingleNodeRotation",!0),me.backCompat(qn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Xn extends Lr{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,Kt.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}function Yn(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}Xn.prototype.className="Wedge",Xn.prototype._centroid=!0,Xn.prototype._attrsAffectingSize=["radius"],Qt(Xn),me.addGetterSetter(Xn,"radius",0,ce()),me.addGetterSetter(Xn,"angle",0,ce()),me.addGetterSetter(Xn,"clockwise",!1),me.backCompat(Xn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var $n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Jn=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];me.addGetterSetter(Ue,"blurRadius",0,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"brightness",0,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"contrast",0,ce(),me.afterSetFilter);function Kn(t,e,r,n,i){var a=r-e,o=i-n;return 0===a?n+o/2:0===o?n:o*((t-e)/a)+n}me.addGetterSetter(Ue,"embossStrength",.5,ce(),me.afterSetFilter),me.addGetterSetter(Ue,"embossWhiteLevel",.5,ce(),me.afterSetFilter),me.addGetterSetter(Ue,"embossDirection","top-left",null,me.afterSetFilter),me.addGetterSetter(Ue,"embossBlend",!1,null,me.afterSetFilter);me.addGetterSetter(Ue,"enhance",0,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"hue",0,ce(),me.afterSetFilter),me.addGetterSetter(Ue,"saturation",0,ce(),me.afterSetFilter),me.addGetterSetter(Ue,"luminance",0,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"hue",0,ce(),me.afterSetFilter),me.addGetterSetter(Ue,"saturation",0,ce(),me.afterSetFilter),me.addGetterSetter(Ue,"value",0,ce(),me.afterSetFilter);function Qn(t,e,r){var n=4*(r*t.width+e),i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function Zn(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}me.addGetterSetter(Ue,"kaleidoscopePower",2,ce(),me.afterSetFilter),me.addGetterSetter(Ue,"kaleidoscopeAngle",0,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"threshold",0,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"noise",.2,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"pixelSize",8,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"levels",.5,ce(),me.afterSetFilter);me.addGetterSetter(Ue,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),me.addGetterSetter(Ue,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),me.addGetterSetter(Ue,"blue",0,le,me.afterSetFilter);me.addGetterSetter(Ue,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),me.addGetterSetter(Ue,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),me.addGetterSetter(Ue,"blue",0,le,me.afterSetFilter),me.addGetterSetter(Ue,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}));me.addGetterSetter(Ue,"threshold",.5,ce(),me.afterSetFilter);const ti=$r.Util._assign($r,{Arc:Jr,Arrow:en,Circle:rn,Ellipse:nn,Image:an,Label:dn,Tag:fn,Line:Zr,Path:tn,Rect:pn,RegularPolygon:gn,Ring:yn,Sprite:mn,Star:bn,Text:Mn,TextPath:Dn,Transformer:qn,Wedge:Xn,Filters:{Blur:function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var r,n,i,a,o,s,h,l,c,u,d,f,p,g,v,y,m,b,_,w,x,S,C,P,k=t.data,O=t.width,A=t.height,E=e+e+1,T=O-1,j=A-1,M=e+1,R=M*(M+1)/2,I=new Yn,L=null,D=I,F=null,G=null,N=$n[e],B=Jn[e];for(i=1;i<E;i++)D=D.next=new Yn,i===M&&(L=D);for(D.next=I,h=s=0,n=0;n<A;n++){for(y=m=b=_=l=c=u=d=0,f=M*(w=k[s]),p=M*(x=k[s+1]),g=M*(S=k[s+2]),v=M*(C=k[s+3]),l+=R*w,c+=R*x,u+=R*S,d+=R*C,D=I,i=0;i<M;i++)D.r=w,D.g=x,D.b=S,D.a=C,D=D.next;for(i=1;i<M;i++)a=s+((T<i?T:i)<<2),l+=(D.r=w=k[a])*(P=M-i),c+=(D.g=x=k[a+1])*P,u+=(D.b=S=k[a+2])*P,d+=(D.a=C=k[a+3])*P,y+=w,m+=x,b+=S,_+=C,D=D.next;for(F=I,G=L,r=0;r<O;r++)k[s+3]=C=d*N>>B,0!==C?(C=255/C,k[s]=(l*N>>B)*C,k[s+1]=(c*N>>B)*C,k[s+2]=(u*N>>B)*C):k[s]=k[s+1]=k[s+2]=0,l-=f,c-=p,u-=g,d-=v,f-=F.r,p-=F.g,g-=F.b,v-=F.a,a=h+((a=r+e+1)<T?a:T)<<2,l+=y+=F.r=k[a],c+=m+=F.g=k[a+1],u+=b+=F.b=k[a+2],d+=_+=F.a=k[a+3],F=F.next,f+=w=G.r,p+=x=G.g,g+=S=G.b,v+=C=G.a,y-=w,m-=x,b-=S,_-=C,G=G.next,s+=4;h+=O}for(r=0;r<O;r++){for(m=b=_=y=c=u=d=l=0,f=M*(w=k[s=r<<2]),p=M*(x=k[s+1]),g=M*(S=k[s+2]),v=M*(C=k[s+3]),l+=R*w,c+=R*x,u+=R*S,d+=R*C,D=I,i=0;i<M;i++)D.r=w,D.g=x,D.b=S,D.a=C,D=D.next;for(o=O,i=1;i<=e;i++)s=o+r<<2,l+=(D.r=w=k[s])*(P=M-i),c+=(D.g=x=k[s+1])*P,u+=(D.b=S=k[s+2])*P,d+=(D.a=C=k[s+3])*P,y+=w,m+=x,b+=S,_+=C,D=D.next,i<j&&(o+=O);for(s=r,F=I,G=L,n=0;n<A;n++)k[3+(a=s<<2)]=C=d*N>>B,C>0?(C=255/C,k[a]=(l*N>>B)*C,k[a+1]=(c*N>>B)*C,k[a+2]=(u*N>>B)*C):k[a]=k[a+1]=k[a+2]=0,l-=f,c-=p,u-=g,d-=v,f-=F.r,p-=F.g,g-=F.b,v-=F.a,a=r+((a=n+M)<j?a:j)*O<<2,l+=y+=F.r=k[a],c+=m+=F.g=k[a+1],u+=b+=F.b=k[a+2],d+=_+=F.a=k[a+3],F=F.next,f+=w=G.r,p+=x=G.g,g+=S=G.b,v+=C=G.a,y-=w,m-=x,b-=S,_-=C,G=G.next,s+=O}}(t,e)},Brighten:function(t){var e,r=255*this.brightness(),n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]+=r,n[e+1]+=r,n[e+2]+=r},Contrast:function(t){var e,r=Math.pow((this.contrast()+100)/100,2),n=t.data,i=n.length,a=150,o=150,s=150;for(e=0;e<i;e+=4)a=n[e],o=n[e+1],s=n[e+2],a/=255,a-=.5,a*=r,a+=.5,o/=255,o-=.5,o*=r,o+=.5,s/=255,s-=.5,s*=r,s+=.5,a=(a*=255)<0?0:a>255?255:a,o=(o*=255)<0?0:o>255?255:o,s=(s*=255)<0?0:s>255?255:s,n[e]=a,n[e+1]=o,n[e+2]=s},Emboss:function(t){var e=10*this.embossStrength(),r=255*this.embossWhiteLevel(),n=this.embossDirection(),i=this.embossBlend(),a=0,o=0,s=t.data,h=t.width,l=t.height,c=4*h,u=l;switch(n){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1;break;default:se.error("Unknown emboss direction: "+n)}do{var d=(u-1)*c,f=a;u+f<1&&(f=0),u+f>l&&(f=0);var p=(u-1+f)*h*4,g=h;do{var v=d+4*(g-1),y=o;g+y<1&&(y=0),g+y>h&&(y=0);var m=p+4*(g-1+y),b=s[v]-s[m],_=s[v+1]-s[m+1],w=s[v+2]-s[m+2],x=b,S=x>0?x:-x;if((_>0?_:-_)>S&&(x=_),(w>0?w:-w)>S&&(x=w),x*=e,i){var C=s[v]+x,P=s[v+1]+x,k=s[v+2]+x;s[v]=C>255?255:C<0?0:C,s[v+1]=P>255?255:P<0?0:P,s[v+2]=k>255?255:k<0?0:k}else{var O=r-x;O<0?O=0:O>255&&(O=255),s[v]=s[v+1]=s[v+2]=O}}while(--g)}while(--u)},Enhance:function(t){var e,r,n,i,a=t.data,o=a.length,s=a[0],h=s,l=a[1],c=l,u=a[2],d=u,f=this.enhance();if(0!==f){for(i=0;i<o;i+=4)(e=a[i+0])<s?s=e:e>h&&(h=e),(r=a[i+1])<l?l=r:r>c&&(c=r),(n=a[i+2])<u?u=n:n>d&&(d=n);var p,g,v,y,m,b,_,w,x;for(h===s&&(h=255,s=0),c===l&&(c=255,l=0),d===u&&(d=255,u=0),f>0?(g=h+f*(255-h),v=s-f*(s-0),m=c+f*(255-c),b=l-f*(l-0),w=d+f*(255-d),x=u-f*(u-0)):(g=h+f*(h-(p=.5*(h+s))),v=s+f*(s-p),m=c+f*(c-(y=.5*(c+l))),b=l+f*(l-y),w=d+f*(d-(_=.5*(d+u))),x=u+f*(u-_)),i=0;i<o;i+=4)a[i+0]=Kn(a[i+0],s,h,v,g),a[i+1]=Kn(a[i+1],l,c,b,m),a[i+2]=Kn(a[i+2],u,d,x,w)}},Grayscale:function(t){var e,r,n=t.data,i=n.length;for(e=0;e<i;e+=4)r=.34*n[e]+.5*n[e+1]+.16*n[e+2],n[e]=r,n[e+1]=r,n[e+2]=r},HSL:function(t){var e,r,n,i,a,o=t.data,s=o.length,h=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=127*this.luminance(),u=1*h*Math.cos(l*Math.PI/180),d=1*h*Math.sin(l*Math.PI/180),f=.299+.701*u+.167*d,p=.587-.587*u+.33*d,g=.114-.114*u-.497*d,v=.299-.299*u-.328*d,y=.587+.413*u+.035*d,m=.114-.114*u+.293*d,b=.299-.3*u+1.25*d,_=.587-.586*u-1.05*d,w=.114+.886*u-.2*d;for(e=0;e<s;e+=4)r=o[e+0],n=o[e+1],i=o[e+2],a=o[e+3],o[e+0]=f*r+p*n+g*i+c,o[e+1]=v*r+y*n+m*i+c,o[e+2]=b*r+_*n+w*i+c,o[e+3]=a},HSV:function(t){var e,r,n,i,a,o=t.data,s=o.length,h=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=h*l*Math.cos(c*Math.PI/180),d=h*l*Math.sin(c*Math.PI/180),f=.299*h+.701*u+.167*d,p=.587*h-.587*u+.33*d,g=.114*h-.114*u-.497*d,v=.299*h-.299*u-.328*d,y=.587*h+.413*u+.035*d,m=.114*h-.114*u+.293*d,b=.299*h-.3*u+1.25*d,_=.587*h-.586*u-1.05*d,w=.114*h+.886*u-.2*d;for(e=0;e<s;e+=4)r=o[e+0],n=o[e+1],i=o[e+2],a=o[e+3],o[e+0]=f*r+p*n+g*i,o[e+1]=v*r+y*n+m*i,o[e+2]=b*r+_*n+w*i,o[e+3]=a},Invert:function(t){var e,r=t.data,n=r.length;for(e=0;e<n;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2]},Kaleidoscope:function(t){var e,r,n,i,a,o,s,h,l,c=t.width,u=t.height,d=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(f%360)/360);if(!(d<1)){var g=se.createCanvasElement();g.width=c,g.height=u;var v=g.getContext("2d").getImageData(0,0,c,u);se.releaseCanvas(g),function(t,e,r){var n,i,a,o,s=t.data,h=e.data,l=t.width,c=t.height,u=r.polarCenterX||l/2,d=r.polarCenterY||c/2,f=0,p=0,g=0,v=0,y=Math.sqrt(u*u+d*d);i=l-u,a=c-d,y=(o=Math.sqrt(i*i+a*a))>y?o:y;var m,b,_,w,x=c,S=l,C=360/S*Math.PI/180;for(b=0;b<S;b+=1)for(_=Math.sin(b*C),w=Math.cos(b*C),m=0;m<x;m+=1)i=Math.floor(u+y*m/x*w),f=s[0+(n=4*((a=Math.floor(d+y*m/x*_))*l+i))],p=s[n+1],g=s[n+2],v=s[n+3],h[0+(n=4*(b+m*l))]=f,h[n+1]=p,h[n+2]=g,h[n+3]=v}(t,v,{polarCenterX:c/2,polarCenterY:u/2});for(var y=c/Math.pow(2,d);y<=8;)y*=2,d-=1;var m=y=Math.ceil(y),b=0,_=m,w=1;for(p+y>c&&(b=m,_=0,w=-1),r=0;r<u;r+=1)for(e=b;e!==_;e+=w)h=4*(c*r+Math.round(e+p)%c),i=v.data[h+0],a=v.data[h+1],o=v.data[h+2],s=v.data[h+3],l=4*(c*r+e),v.data[l+0]=i,v.data[l+1]=a,v.data[l+2]=o,v.data[l+3]=s;for(r=0;r<u;r+=1)for(m=Math.floor(y),n=0;n<d;n+=1){for(e=0;e<m+1;e+=1)h=4*(c*r+e),i=v.data[h+0],a=v.data[h+1],o=v.data[h+2],s=v.data[h+3],l=4*(c*r+2*m-e-1),v.data[l+0]=i,v.data[l+1]=a,v.data[l+2]=o,v.data[l+3]=s;m*=2}!function(t,e,r){var n,i,a,o,s,h,l=t.data,c=e.data,u=t.width,d=t.height,f=r.polarCenterX||u/2,p=r.polarCenterY||d/2,g=0,v=0,y=0,m=0,b=Math.sqrt(f*f+p*p);i=u-f,a=d-p,b=(h=Math.sqrt(i*i+a*a))>b?h:b;var _,w,x,S=d,C=u,P=r.polarRotation||0;for(i=0;i<u;i+=1)for(a=0;a<d;a+=1)o=i-f,s=a-p,_=Math.sqrt(o*o+s*s)*S/b,w=(w=(180*Math.atan2(s,o)/Math.PI+360+P)%360)*C/360,x=Math.floor(w),g=l[0+(n=4*(Math.floor(_)*u+x))],v=l[n+1],y=l[n+2],m=l[n+3],c[0+(n=4*(a*u+i))]=g,c[n+1]=v,c[n+2]=y,c[n+3]=m}(v,t,{polarRotation:0})}},Mask:function(t){var e=function(t,e){var r=Qn(t,0,0),n=Qn(t,t.width-1,0),i=Qn(t,0,t.height-1),a=Qn(t,t.width-1,t.height-1),o=e||10;if(Zn(r,n)<o&&Zn(n,a)<o&&Zn(a,i)<o&&Zn(i,r)<o){for(var s=function(t){for(var e=[0,0,0],r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([n,r,a,i]),h=[],l=0;l<t.width*t.height;l++){var c=Zn(s,[t.data[4*l],t.data[4*l+1],t.data[4*l+2]]);h[l]=c<o?0:255}return h}}(t,this.threshold());return e&&function(t,e){for(var r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}(t,e=function(t,e,r){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),o=[],s=0;s<r;s++)for(var h=0;h<e;h++){for(var l=s*e+h,c=0,u=0;u<i;u++)for(var d=0;d<i;d++){var f=s+u-a,p=h+d-a;if(f>=0&&f<r&&p>=0&&p<e){var g=n[u*i+d];c+=t[f*e+p]*g}}o[l]=c}return o}(e=function(t,e,r){for(var n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),o=[],s=0;s<r;s++)for(var h=0;h<e;h++){for(var l=s*e+h,c=0,u=0;u<i;u++)for(var d=0;d<i;d++){var f=s+u-a,p=h+d-a;if(f>=0&&f<r&&p>=0&&p<e){var g=n[u*i+d];c+=t[f*e+p]*g}}o[l]=c>=1020?255:0}return o}(e=function(t,e,r){for(var n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),o=[],s=0;s<r;s++)for(var h=0;h<e;h++){for(var l=s*e+h,c=0,u=0;u<i;u++)for(var d=0;d<i;d++){var f=s+u-a,p=h+d-a;if(f>=0&&f<r&&p>=0&&p<e){var g=n[u*i+d];c+=t[f*e+p]*g}}o[l]=2040===c?255:0}return o}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},Noise:function(t){var e,r=255*this.noise(),n=t.data,i=n.length,a=r/2;for(e=0;e<i;e+=4)n[e+0]+=a-2*a*Math.random(),n[e+1]+=a-2*a*Math.random(),n[e+2]+=a-2*a*Math.random()},Pixelate:function(t){var e,r,n,i,a,o,s,h,l,c,u,d,f,p,g=Math.ceil(this.pixelSize()),v=t.width,y=t.height,m=Math.ceil(v/g),b=Math.ceil(y/g),_=t.data;if(g<=0)se.error("pixelSize value can not be <= 0");else for(d=0;d<m;d+=1)for(f=0;f<b;f+=1){for(i=0,a=0,o=0,s=0,l=(h=d*g)+g,u=(c=f*g)+g,p=0,e=h;e<l;e+=1)if(!(e>=v))for(r=c;r<u;r+=1)r>=y||(i+=_[(n=4*(v*r+e))+0],a+=_[n+1],o+=_[n+2],s+=_[n+3],p+=1);for(i/=p,a/=p,o/=p,s/=p,e=h;e<l;e+=1)if(!(e>=v))for(r=c;r<u;r+=1)r>=y||(_[(n=4*(v*r+e))+0]=i,_[n+1]=a,_[n+2]=o,_[n+3]=s)}},Posterize:function(t){var e,r=Math.round(254*this.levels())+1,n=t.data,i=n.length,a=255/r;for(e=0;e<i;e+=1)n[e]=Math.floor(n[e]/a)*a},RGB:function(t){var e,r,n=t.data,i=n.length,a=this.red(),o=this.green(),s=this.blue();for(e=0;e<i;e+=4)r=(.34*n[e]+.5*n[e+1]+.16*n[e+2])/255,n[e]=r*a,n[e+1]=r*o,n[e+2]=r*s,n[e+3]=n[e+3]},RGBA:function(t){var e,r,n=t.data,i=n.length,a=this.red(),o=this.green(),s=this.blue(),h=this.alpha();for(e=0;e<i;e+=4)r=1-h,n[e]=a*h+n[e]*r,n[e+1]=o*h+n[e+1]*r,n[e+2]=s*h+n[e+2]*r},Sepia:function(t){var e,r,n,i,a=t.data,o=a.length;for(e=0;e<o;e+=4)r=a[e+0],n=a[e+1],i=a[e+2],a[e+0]=Math.min(255,.393*r+.769*n+.189*i),a[e+1]=Math.min(255,.349*r+.686*n+.168*i),a[e+2]=Math.min(255,.272*r+.534*n+.131*i)},Solarize:function(t){var e=t.data,r=t.width,n=4*r,i=t.height;do{var a=(i-1)*n,o=r;do{var s=a+4*(o-1),h=e[s],l=e[s+1],c=e[s+2];h>127&&(h=255-h),l>127&&(l=255-l),c>127&&(c=255-c),e[s]=h,e[s+1]=l,e[s+2]=c}while(--o)}while(--i)},Threshold:function(t){var e,r=255*this.threshold(),n=t.data,i=n.length;for(e=0;e<i;e+=1)n[e]=n[e]<r?0:255}}});function ei(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ni=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ei(this,t),this.container=e,this.minWidth=r||600,this.minHeight=n||600,this.initContainer(),this.rectPosition={}}var e,r,n;return e=t,r=[{key:"initContainer",value:function(){this.stage=new ti.Stage({container:this.container,width:this.minWidth,height:this.minHeight}),this.layer=new ti.Layer,this.stage.add(this.layer)}},{key:"setBackgroundSize",value:function(t){var e=this.fitToSize(t.width,t.height,this.minWidth,this.minHeight);this.background_obj.width(e.width),this.background_obj.height(e.height),this.background_obj.x(e.x),this.background_obj.y(e.y)}},{key:"loadBackground",value:function(t){var e=this;return new Promise((function(r,n){var i=new Image;i.onload=function(){e.background_obj=new ti.Image({x:0,y:0,image:i}),e.layer.add(e.background_obj),e.background_obj.moveToBottom(),e.setBackgroundSize(i),r()},i.src=t}))}},{key:"changeBackground",value:function(t){var e=this,r=new Image;r.src=t,r.onload=function(){e.background_obj.image(r),e.setBackgroundSize(r)}}},{key:"attachRectangle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=new ti.Layer,n=this.minWidth/3,i=new ti.Rect({name:"rect",x:(this.minWidth-n)/2,y:(this.minWidth-n)/2,width:n,draggable:0==e,height:n,fill:"red",opacity:.4});this.rect=i,r.add(i),this.stage.add(r),i.moveToTop(),this.transformer=new ti.Transformer({nodes:[i]}),this.transformer.rotateEnabled(!1),i.on("dragmove",(function(){t.updateRectPosition(i)})),i.on("transform",(function(){t.updateRectPosition(i)})),r.add(this.transformer)}},{key:"updateRectPosition",value:function(t){this.rectPosition={originalWidth:parseFloat(this.minWidth),originalHeight:parseFloat(this.minHeight),width:parseFloat((t.width()*t.scaleX()).toFixed(2)),height:parseFloat((t.height()*t.scaleY()).toFixed(2)),x:parseFloat(t.x().toFixed(2)),y:parseFloat(t.y().toFixed(2))}}},{key:"setDefaultRectPosition",value:function(t){try{if(t.width&&t.height){var e=this.minWidth/t.originalWidth;this.rect.width(t.width*e),this.rect.height(t.height*e),this.rect.x(t.x*e),this.rect.y(t.y*e),this.updateRectPosition(this.rect)}}catch(e){console.error("Cant set rect "+e.message,t)}}},{key:"disableTransformer",value:function(){this.transformer.destroy()}}],r&&ri(e.prototype,r),n&&ri(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Object.assign(ni.prototype,{fitToSize:function(t,e,r,n){if(t>=e)var i=r/t;else i=n/e;return{x:(r-(t*=i))/2,y:(n-(e*=i))/2,width:t,height:e}}});const ii={props:["background","value","preview","small"],data:function(){return{config:{width:200,height:200},stage:null,uuid:null}},computed:{rectSettings:function(){return this.stage?this.stage.rectPosition:null}},watch:{rectSettings:function(){this.$emit("change",this.stage.rectPosition)},background:function(){this.background&&this.stage.changeBackground(this.background)}},mounted:function(){var t=this;this.uuid=Date.now().toString(36)+Math.random().toString(36).substr(2),setTimeout((function(){var e=600,r=600;if(t.preview)e=250,r=250;if(t.small)e=60,r=60;t.stage=new ni("#"+t.uuid+"_konva-container",e,r),t.stage.attachRectangle(t.preview),t.background&&t.loadBackground()}),100)},methods:{setRectRatio:function(t){this.stage.rect.scaleX(1),this.stage.rect.scaleY(1),this.stage.rect.height(this.stage.rect.width()*t),this.stage.updateRectPosition(this.stage.rect)},loadBackground:function(){var t=this;return this.stage.loadBackground(this.background).then((function(e){t.value&&t.stage.setDefaultRectPosition(t.value),t.preview&&t.stage.disableTransformer()}))}}},ai=(0,b.Z)(ii,[["render",function(t,e,r,i,a,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",{id:t.uuid+"_konva-container"},null,8,Yt)])}]]);Nova.booting((function(t,e){t.component("stage",ai),t.component("index-configurationjson",_),t.component("detail-configurationjson",S),t.component("form-configurationjson",Xt)}))},6381:()=>{},3744:(t,e)=>{"use strict";e.Z=(t,e)=>{const r=t.__vccOpts||t;for(const[t,n]of e)r[t]=n;return r}},6649:(t,e,r)=>{function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var i=n(r(3950)),a=r(8009),o=n(r(6533));function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var h,l={modal:null,listener:null,show:function(t){var e=this;"object"==typeof t&&(t="All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>"+JSON.stringify(t));var r=document.createElement("html");r.innerHTML=t,r.querySelectorAll("a").forEach((function(t){return t.setAttribute("target","_top")})),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",(function(){return e.hide()}));var n=document.createElement("iframe");if(n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",!n.contentWindow)throw new Error("iframe not yet ready.");n.contentWindow.document.open(),n.contentWindow.document.write(r.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide:function(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape:function(t){27===t.keyCode&&this.hide()}};function c(t,e){var r;return function(){var n=arguments,i=this;clearTimeout(r),r=setTimeout((function(){return t.apply(i,[].slice.call(n))}),e)}}function u(t,e,r){for(var n in void 0===e&&(e=new FormData),void 0===r&&(r=null),t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&f(e,d(r,n),t[n]);return e}function d(t,e){return t?t+"["+e+"]":e}function f(t,e,r){return Array.isArray(r)?Array.from(r.keys()).forEach((function(n){return f(t,d(e,n.toString()),r[n])})):r instanceof Date?t.append(e,r.toISOString()):r instanceof File?t.append(e,r,r.name):r instanceof Blob?t.append(e,r):"boolean"==typeof r?t.append(e,r?"1":"0"):"string"==typeof r?t.append(e,r):"number"==typeof r?t.append(e,""+r):null==r?t.append(e,""):void u(r,t,e)}function p(t){return new URL(t.toString(),window.location.toString())}function g(t,r,n,i){void 0===i&&(i="brackets");var s=/^https?:\/\//.test(r.toString()),h=s||r.toString().startsWith("/"),l=!h&&!r.toString().startsWith("#")&&!r.toString().startsWith("?"),c=r.toString().includes("?")||t===e.n$.GET&&Object.keys(n).length,u=r.toString().includes("#"),d=new URL(r.toString(),"http://localhost");return t===e.n$.GET&&Object.keys(n).length&&(d.search=a.stringify(o(a.parse(d.search,{ignoreQueryPrefix:!0}),n),{encodeValuesOnly:!0,arrayFormat:i}),n={}),[[s?d.protocol+"//"+d.host:"",h?d.pathname:"",l?d.pathname.substring(1):"",c?d.search:"",u?d.hash:""].join(""),n]}function v(t){return(t=new URL(t.href)).hash="",t}function y(t,e){return document.dispatchEvent(new CustomEvent("inertia:"+t,e))}(h=e.n$||(e.n$={})).GET="get",h.POST="post",h.PUT="put",h.PATCH="patch",h.DELETE="delete";var m=function(t){return y("finish",{detail:{visit:t}})},b=function(t){return y("navigate",{detail:{page:t}})},_="undefined"==typeof window,w=function(){function t(){this.visitId=null}var r=t.prototype;return r.init=function(t){var e=t.resolveComponent,r=t.swapComponent;this.page=t.initialPage,this.resolveComponent=e,this.swapComponent=r,this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()},r.handleInitialPageVisit=function(t){this.page.url+=window.location.hash,this.setPage(t,{preserveState:!0}).then((function(){return b(t)}))},r.setupEventListeners=function(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",c(this.handleScrollEvent.bind(this),100),!0)},r.scrollRegions=function(){return document.querySelectorAll("[scroll-region]")},r.handleScrollEvent=function(t){"function"==typeof t.target.hasAttribute&&t.target.hasAttribute("scroll-region")&&this.saveScrollPositions()},r.saveScrollPositions=function(){this.replaceState(s({},this.page,{scrollRegions:Array.from(this.scrollRegions()).map((function(t){return{top:t.scrollTop,left:t.scrollLeft}}))}))},r.resetScrollPositions=function(){var t;document.documentElement.scrollTop=0,document.documentElement.scrollLeft=0,this.scrollRegions().forEach((function(t){t.scrollTop=0,t.scrollLeft=0})),this.saveScrollPositions(),window.location.hash&&(null==(t=document.getElementById(window.location.hash.slice(1)))||t.scrollIntoView())},r.restoreScrollPositions=function(){var t=this;this.page.scrollRegions&&this.scrollRegions().forEach((function(e,r){var n=t.page.scrollRegions[r];n&&(e.scrollTop=n.top,e.scrollLeft=n.left)}))},r.isBackForwardVisit=function(){return window.history.state&&window.performance&&window.performance.getEntriesByType("navigation").length>0&&"back_forward"===window.performance.getEntriesByType("navigation")[0].type},r.handleBackForwardVisit=function(t){var e=this;window.history.state.version=t.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then((function(){e.restoreScrollPositions(),b(t)}))},r.locationVisit=function(t,e){try{window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify({preserveScroll:e})),window.location.href=t.href,v(window.location).href===v(t).href&&window.location.reload()}catch(t){return!1}},r.isLocationVisit=function(){try{return null!==window.sessionStorage.getItem("inertiaLocationVisit")}catch(t){return!1}},r.handleLocationVisit=function(t){var e,r,n,i,a=this,o=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),t.url+=window.location.hash,t.rememberedState=null!=(e=null==(r=window.history.state)?void 0:r.rememberedState)?e:{},t.scrollRegions=null!=(n=null==(i=window.history.state)?void 0:i.scrollRegions)?n:[],this.setPage(t,{preserveScroll:o.preserveScroll,preserveState:!0}).then((function(){o.preserveScroll&&a.restoreScrollPositions(),b(t)}))},r.isLocationVisitResponse=function(t){return t&&409===t.status&&t.headers["x-inertia-location"]},r.isInertiaResponse=function(t){return null==t?void 0:t.headers["x-inertia"]},r.createVisitId=function(){return this.visitId={},this.visitId},r.cancelVisit=function(t,e){var r=e.cancelled,n=void 0!==r&&r,i=e.interrupted,a=void 0!==i&&i;!t||t.completed||t.cancelled||t.interrupted||(t.cancelToken.cancel(),t.onCancel(),t.completed=!1,t.cancelled=n,t.interrupted=a,m(t),t.onFinish(t))},r.finishVisit=function(t){t.cancelled||t.interrupted||(t.completed=!0,t.cancelled=!1,t.interrupted=!1,m(t),t.onFinish(t))},r.resolvePreserveOption=function(t,e){return"function"==typeof t?t(e):"errors"===t?Object.keys(e.props.errors||{}).length>0:t},r.visit=function(t,r){var n=this,a=void 0===r?{}:r,o=a.method,h=void 0===o?e.n$.GET:o,c=a.data,d=void 0===c?{}:c,f=a.replace,m=void 0!==f&&f,b=a.preserveScroll,_=void 0!==b&&b,w=a.preserveState,x=void 0!==w&&w,S=a.only,C=void 0===S?[]:S,P=a.headers,k=void 0===P?{}:P,O=a.errorBag,A=void 0===O?"":O,E=a.forceFormData,T=void 0!==E&&E,j=a.onCancelToken,M=void 0===j?function(){}:j,R=a.onBefore,I=void 0===R?function(){}:R,L=a.onStart,D=void 0===L?function(){}:L,F=a.onProgress,G=void 0===F?function(){}:F,N=a.onFinish,B=void 0===N?function(){}:N,W=a.onCancel,z=void 0===W?function(){}:W,H=a.onSuccess,U=void 0===H?function(){}:H,V=a.onError,q=void 0===V?function(){}:V,X=a.queryStringArrayFormat,Y=void 0===X?"brackets":X,$="string"==typeof t?p(t):t;if(!function t(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some((function(e){return t(e)}))||"object"==typeof e&&null!==e&&Object.values(e).some((function(e){return t(e)}))}(d)&&!T||d instanceof FormData||(d=u(d)),!(d instanceof FormData)){var J=g(h,$,d,Y),K=J[1];$=p(J[0]),d=K}var Q={url:$,method:h,data:d,replace:m,preserveScroll:_,preserveState:x,only:C,headers:k,errorBag:A,forceFormData:T,queryStringArrayFormat:Y,cancelled:!1,completed:!1,interrupted:!1};if(!1!==I(Q)&&function(t){return y("before",{cancelable:!0,detail:{visit:t}})}(Q)){this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();var Z=this.createVisitId();this.activeVisit=s({},Q,{onCancelToken:M,onBefore:I,onStart:D,onProgress:G,onFinish:B,onCancel:z,onSuccess:U,onError:q,queryStringArrayFormat:Y,cancelToken:i.CancelToken.source()}),M({cancel:function(){n.activeVisit&&n.cancelVisit(n.activeVisit,{cancelled:!0})}}),function(t){y("start",{detail:{visit:t}})}(Q),D(Q),i({method:h,url:v($).href,data:h===e.n$.GET?{}:d,params:h===e.n$.GET?d:{},cancelToken:this.activeVisit.cancelToken.token,headers:s({},k,{Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},C.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":C.join(",")}:{},A&&A.length?{"X-Inertia-Error-Bag":A}:{},this.page.version?{"X-Inertia-Version":this.page.version}:{}),onUploadProgress:function(t){d instanceof FormData&&(t.percentage=Math.round(t.loaded/t.total*100),function(t){y("progress",{detail:{progress:t}})}(t),G(t))}}).then((function(t){var e;if(!n.isInertiaResponse(t))return Promise.reject({response:t});var r=t.data;C.length&&r.component===n.page.component&&(r.props=s({},n.page.props,r.props)),_=n.resolvePreserveOption(_,r),(x=n.resolvePreserveOption(x,r))&&null!=(e=window.history.state)&&e.rememberedState&&r.component===n.page.component&&(r.rememberedState=window.history.state.rememberedState);var i=$,a=p(r.url);return i.hash&&!a.hash&&v(i).href===a.href&&(a.hash=i.hash,r.url=a.href),n.setPage(r,{visitId:Z,replace:m,preserveScroll:_,preserveState:x})})).then((function(){var t=n.page.props.errors||{};if(Object.keys(t).length>0){var e=A?t[A]?t[A]:{}:t;return function(t){y("error",{detail:{errors:t}})}(e),q(e)}return y("success",{detail:{page:n.page}}),U(n.page)})).catch((function(t){if(n.isInertiaResponse(t.response))return n.setPage(t.response.data,{visitId:Z});if(n.isLocationVisitResponse(t.response)){var e=p(t.response.headers["x-inertia-location"]),r=$;r.hash&&!e.hash&&v(r).href===e.href&&(e.hash=r.hash),n.locationVisit(e,!0===_)}else{if(!t.response)return Promise.reject(t);y("invalid",{cancelable:!0,detail:{response:t.response}})&&l.show(t.response.data)}})).then((function(){n.activeVisit&&n.finishVisit(n.activeVisit)})).catch((function(t){if(!i.isCancel(t)){var e=y("exception",{cancelable:!0,detail:{exception:t}});if(n.activeVisit&&n.finishVisit(n.activeVisit),e)return Promise.reject(t)}}))}},r.setPage=function(t,e){var r=this,n=void 0===e?{}:e,i=n.visitId,a=void 0===i?this.createVisitId():i,o=n.replace,s=void 0!==o&&o,h=n.preserveScroll,l=void 0!==h&&h,c=n.preserveState,u=void 0!==c&&c;return Promise.resolve(this.resolveComponent(t.component)).then((function(e){a===r.visitId&&(t.scrollRegions=t.scrollRegions||[],t.rememberedState=t.rememberedState||{},(s=s||p(t.url).href===window.location.href)?r.replaceState(t):r.pushState(t),r.swapComponent({component:e,page:t,preserveState:u}).then((function(){l||r.resetScrollPositions(),s||b(t)})))}))},r.pushState=function(t){this.page=t,window.history.pushState(t,"",t.url)},r.replaceState=function(t){this.page=t,window.history.replaceState(t,"",t.url)},r.handlePopstateEvent=function(t){var e=this;if(null!==t.state){var r=t.state,n=this.createVisitId();Promise.resolve(this.resolveComponent(r.component)).then((function(t){n===e.visitId&&(e.page=r,e.swapComponent({component:t,page:r,preserveState:!1}).then((function(){e.restoreScrollPositions(),b(r)})))}))}else{var i=p(this.page.url);i.hash=window.location.hash,this.replaceState(s({},this.page,{url:i.href})),this.resetScrollPositions()}},r.get=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),this.visit(t,s({},n,{method:e.n$.GET,data:r}))},r.reload=function(t){return void 0===t&&(t={}),this.visit(window.location.href,s({},t,{preserveScroll:!0,preserveState:!0}))},r.replace=function(t,e){var r;return void 0===e&&(e={}),console.warn("Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia."+(null!=(r=e.method)?r:"get")+"() instead."),this.visit(t,s({preserveState:!0},e,{replace:!0}))},r.post=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),this.visit(t,s({preserveState:!0},n,{method:e.n$.POST,data:r}))},r.put=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),this.visit(t,s({preserveState:!0},n,{method:e.n$.PUT,data:r}))},r.patch=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),this.visit(t,s({preserveState:!0},n,{method:e.n$.PATCH,data:r}))},r.delete=function(t,r){return void 0===r&&(r={}),this.visit(t,s({preserveState:!0},r,{method:e.n$.DELETE}))},r.remember=function(t,e){var r,n;void 0===e&&(e="default"),_||this.replaceState(s({},this.page,{rememberedState:s({},null==(r=this.page)?void 0:r.rememberedState,(n={},n[e]=t,n))}))},r.restore=function(t){var e,r;if(void 0===t&&(t="default"),!_)return null==(e=window.history.state)||null==(r=e.rememberedState)?void 0:r[t]},r.on=function(t,e){var r=function(t){var r=e(t);t.cancelable&&!t.defaultPrevented&&!1===r&&t.preventDefault()};return document.addEventListener("inertia:"+t,r),function(){return document.removeEventListener("inertia:"+t,r)}},t}(),x={buildDOMElement:function(t){var e=document.createElement("template");e.innerHTML=t;var r=e.content.firstChild;if(!t.startsWith("<script "))return r;var n=document.createElement("script");return n.innerHTML=r.innerHTML,r.getAttributeNames().forEach((function(t){n.setAttribute(t,r.getAttribute(t)||"")})),n},isInertiaManagedElement:function(t){return t.nodeType===Node.ELEMENT_NODE&&null!==t.getAttribute("inertia")},findMatchingElementIndex:function(t,e){var r=t.getAttribute("inertia");return null!==r?e.findIndex((function(t){return t.getAttribute("inertia")===r})):-1},update:c((function(t){var e=this,r=t.map((function(t){return e.buildDOMElement(t)}));Array.from(document.head.childNodes).filter((function(t){return e.isInertiaManagedElement(t)})).forEach((function(t){var n=e.findMatchingElementIndex(t,r);if(-1!==n){var i,a=r.splice(n,1)[0];a&&!t.isEqualNode(a)&&(null==t||null==(i=t.parentNode)||i.replaceChild(a,t))}else{var o;null==t||null==(o=t.parentNode)||o.removeChild(t)}})),r.forEach((function(t){return document.head.appendChild(t)}))}),1)},S=new w;e.rC=S},3950:(t,e,r)=>{t.exports=r(9881)},1806:(t,e,r)=>{"use strict";var n=r(6120),i=r(2169),a=r(9050),o=r(4310),s=r(2964),h=r(7982),l=r(6246),c=r(3474);t.exports=function(t){return new Promise((function(e,r){var u=t.data,d=t.headers,f=t.responseType;n.isFormData(u)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var g=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+v)}var y=s(t.baseURL,t.url);function m(){if(p){var n="getAllResponseHeaders"in p?h(p.getAllResponseHeaders()):null,a={data:f&&"text"!==f&&"json"!==f?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};i(e,r,a),p=null}}if(p.open(t.method.toUpperCase(),o(y,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(r(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(c(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(t.withCredentials||l(y))&&t.xsrfCookieName?a.read(t.xsrfCookieName):void 0;b&&(d[t.xsrfHeaderName]=b)}"setRequestHeader"in p&&n.forEach(d,(function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),f&&"json"!==f&&(p.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),r(t),p=null)})),u||(u=null),p.send(u)}))}},9881:(t,e,r)=>{"use strict";var n=r(6120),i=r(2826),a=r(3395),o=r(3541);function s(t){var e=new a(t),r=i(a.prototype.request,e);return n.extend(r,a.prototype,e),n.extend(r,e),r}var h=s(r(4539));h.Axios=a,h.create=function(t){return s(o(h.defaults,t))},h.Cancel=r(6356),h.CancelToken=r(4486),h.isCancel=r(8577),h.all=function(t){return Promise.all(t)},h.spread=r(4359),h.isAxiosError=r(3510),t.exports=h,t.exports.default=h},6356:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4486:(t,e,r)=>{"use strict";var n=r(6356);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},8577:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},3395:(t,e,r)=>{"use strict";var n=r(6120),i=r(4310),a=r(8139),o=r(3965),s=r(3541),h=r(8995),l=h.validators;function c(t){this.defaults=t,this.interceptors={request:new a,response:new a}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&h.assertOptions(e,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(t){a.push(t.fulfilled,t.rejected)})),!n){var c=[o,void 0];for(Array.prototype.unshift.apply(c,r),c=c.concat(a),i=Promise.resolve(t);c.length;)i=i.then(c.shift(),c.shift());return i}for(var u=t;r.length;){var d=r.shift(),f=r.shift();try{u=d(u)}catch(t){f(t);break}}try{i=o(u)}catch(t){return Promise.reject(t)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},c.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,r,n){return this.request(s(n||{},{method:t,url:e,data:r}))}})),t.exports=c},8139:(t,e,r)=>{"use strict";var n=r(6120);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},2964:(t,e,r)=>{"use strict";var n=r(4926),i=r(3694);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},3474:(t,e,r)=>{"use strict";var n=r(4604);t.exports=function(t,e,r,i,a){var o=new Error(t);return n(o,e,r,i,a)}},3965:(t,e,r)=>{"use strict";var n=r(6120),i=r(9685),a=r(8577),o=r(4539);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return s(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(s(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},4604:t=>{"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},3541:(t,e,r)=>{"use strict";var n=r(6120);t.exports=function(t,e){e=e||{};var r={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function h(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function l(i){n.isUndefined(e[i])?n.isUndefined(t[i])||(r[i]=h(void 0,t[i])):r[i]=h(t[i],e[i])}n.forEach(i,(function(t){n.isUndefined(e[t])||(r[t]=h(void 0,e[t]))})),n.forEach(a,l),n.forEach(o,(function(i){n.isUndefined(e[i])?n.isUndefined(t[i])||(r[i]=h(void 0,t[i])):r[i]=h(void 0,e[i])})),n.forEach(s,(function(n){n in e?r[n]=h(t[n],e[n]):n in t&&(r[n]=h(void 0,t[n]))}));var c=i.concat(a).concat(o).concat(s),u=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return n.forEach(u,l),r}},2169:(t,e,r)=>{"use strict";var n=r(3474);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},9685:(t,e,r)=>{"use strict";var n=r(6120),i=r(4539);t.exports=function(t,e,r){var a=this||i;return n.forEach(r,(function(r){t=r.call(a,t,e)})),t}},4539:(t,e,r)=>{"use strict";var n=r(5592),i=r(6120),a=r(7683),o=r(4604),s={"Content-Type":"application/x-www-form-urlencoded"};function h(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(l=r(1806)),l),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(h(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(h(e,"application/json"),function(t,e,r){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw o(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){c.headers[t]=i.merge(s)})),t.exports=c},2826:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},4310:(t,e,r)=>{"use strict";var n=r(6120);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var a;if(r)a=r(e);else if(n.isURLSearchParams(e))a=e.toString();else{var o=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},3694:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},9050:(t,e,r)=>{"use strict";var n=r(6120);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4926:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},3510:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},6246:(t,e,r)=>{"use strict";var n=r(6120);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},7683:(t,e,r)=>{"use strict";var n=r(6120);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},7982:(t,e,r)=>{"use strict";var n=r(6120),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,a,o={};return t?(n.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=n.trim(t.substr(0,a)).toLowerCase(),r=n.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}})),o):o}},4359:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},8995:(t,e,r)=>{"use strict";var n=r(6018),i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var a={},o=n.version.split(".");function s(t,e){for(var r=e?e.split("."):o,n=t.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}i.transitional=function(t,e,r){var i=e&&s(e);function o(t,e){return"[Axios v"+n.version+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,s){if(!1===t)throw new Error(o(n," has been removed in "+e));return i&&!a[n]&&(a[n]=!0,console.warn(o(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}},t.exports={isOlderVersion:s,assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],h=void 0===s||o(s,a,t);if(!0!==h)throw new TypeError("option "+a+" must be "+h)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:i}},6120:(t,e,r)=>{"use strict";var n=r(2826),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function o(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function h(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:h,isUndefined:o,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function r(r,n){h(e[n])&&h(r)?e[n]=t(e[n],r):h(r)?e[n]=t({},r):a(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,(function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},7571:(t,e,r)=>{"use strict";var n=r(3574),i=r(8514),a=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")>-1?i(r):r}},8514:(t,e,r)=>{"use strict";var n=r(5316),i=r(3574),a=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(o,a),h=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=s(n,o,arguments);if(h&&l){var r=h(e,"length");r.configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))})}return e};var u=function(){return s(n,a,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u},6533:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(t,e){return!1!==e.clone&&e.isMergeableObject(t)?h((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function i(t,e,r){return t.concat(e).map((function(t){return n(t,r)}))}function a(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function o(t,e){try{return e in t}catch(t){return!1}}function s(t,e,r){var i={};return r.isMergeableObject(t)&&a(t).forEach((function(e){i[e]=n(t[e],r)})),a(e).forEach((function(a){(function(t,e){return o(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,a)||(o(t,a)&&r.isMergeableObject(e[a])?i[a]=function(t,e){if(!e.customMerge)return h;var r=e.customMerge(t);return"function"==typeof r?r:h}(a,r)(t[a],e[a],r):i[a]=n(e[a],r))})),i}function h(t,r,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||e,a.cloneUnlessOtherwiseSpecified=n;var o=Array.isArray(r);return o===Array.isArray(t)?o?a.arrayMerge(t,r,a):s(t,r,a):n(r,a)}h.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return h(t,r,e)}),{})};var l=h;t.exports=l},9034:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.record(e)}return r(t,[{key:"all",value:function(){return this.errors}},{key:"has",value:function(t){var e=this.errors.hasOwnProperty(t);e||(e=Object.keys(this.errors).filter((function(e){return e.startsWith(t+".")||e.startsWith(t+"[")})).length>0);return e}},{key:"first",value:function(t){return this.get(t)[0]}},{key:"get",value:function(t){return this.errors[t]||[]}},{key:"any",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return Object.keys(this.errors).length>0;var r={};return e.forEach((function(e){return r[e]=t.get(e)})),r}},{key:"record",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errors=t}},{key:"clear",value:function(t){if(t){var e=Object.assign({},this.errors);Object.keys(e).filter((function(e){return e===t||e.startsWith(t+".")||e.startsWith(t+"[")})).forEach((function(t){return delete e[t]})),this.errors=e}else this.errors={}}}]),t}();e.default=i},5401:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(9034),s=(n=o)&&n.__esModule?n:{default:n},h=r(5133);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t),this.processing=!1,this.successful=!1,this.withData(e).withOptions(r).withErrors({})}return a(t,[{key:"withData",value:function(t){for(var e in(0,h.isArray)(t)&&(t=t.reduce((function(t,e){return t[e]="",t}),{})),this.setInitialValues(t),this.errors=new s.default,this.processing=!1,this.successful=!1,t)(0,h.guardAgainstReservedFieldName)(e),this[e]=t[e];return this}},{key:"withErrors",value:function(t){return this.errors=new s.default(t),this}},{key:"withOptions",value:function(t){this.__options={resetOnSuccess:!0},t.hasOwnProperty("resetOnSuccess")&&(this.__options.resetOnSuccess=t.resetOnSuccess),t.hasOwnProperty("onSuccess")&&(this.onSuccess=t.onSuccess),t.hasOwnProperty("onFail")&&(this.onFail=t.onFail);var e="undefined"!=typeof window&&window.axios;if(this.__http=t.http||e||r(3950),!this.__http)throw new Error("No http library provided. Either pass an http option, or install axios.");return this}},{key:"data",value:function(){var t={};for(var e in this.initial)t[e]=this[e];return t}},{key:"only",value:function(t){var e=this;return t.reduce((function(t,r){return t[r]=e[r],t}),{})}},{key:"reset",value:function(){(0,h.merge)(this,this.initial),this.errors.clear()}},{key:"setInitialValues",value:function(t){this.initial={},(0,h.merge)(this.initial,t)}},{key:"populate",value:function(t){var e=this;return Object.keys(t).forEach((function(r){(0,h.guardAgainstReservedFieldName)(r),e.hasOwnProperty(r)&&(0,h.merge)(e,function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},r,t[r]))})),this}},{key:"clear",value:function(){for(var t in this.initial)this[t]="";this.errors.clear()}},{key:"post",value:function(t){return this.submit("post",t)}},{key:"put",value:function(t){return this.submit("put",t)}},{key:"patch",value:function(t){return this.submit("patch",t)}},{key:"delete",value:function(t){return this.submit("delete",t)}},{key:"submit",value:function(t,e){var r=this;return this.__validateRequestType(t),this.errors.clear(),this.processing=!0,this.successful=!1,new Promise((function(n,i){r.__http[t](e,r.hasFiles()?(0,h.objectToFormData)(r.data()):r.data()).then((function(t){r.processing=!1,r.onSuccess(t.data),n(t.data)})).catch((function(t){r.processing=!1,r.onFail(t),i(t)}))}))}},{key:"hasFiles",value:function(){for(var t in this.initial)if(this.hasFilesDeep(this[t]))return!0;return!1}},{key:"hasFilesDeep",value:function(t){if(null===t)return!1;if("object"===(void 0===t?"undefined":i(t)))for(var e in t)if(t.hasOwnProperty(e)&&this.hasFilesDeep(t[e]))return!0;if(Array.isArray(t))for(var r in t)if(t.hasOwnProperty(r))return this.hasFilesDeep(t[r]);return(0,h.isFile)(t)}},{key:"onSuccess",value:function(t){this.successful=!0,this.__options.resetOnSuccess&&this.reset()}},{key:"onFail",value:function(t){this.successful=!1,t.response&&t.response.data.errors&&this.errors.record(t.response.data.errors)}},{key:"hasError",value:function(t){return this.errors.has(t)}},{key:"getError",value:function(t){return this.errors.first(t)}},{key:"getErrors",value:function(t){return this.errors.get(t)}},{key:"__validateRequestType",value:function(t){var e=["get","delete","head","post","put","patch"];if(-1===e.indexOf(t))throw new Error("`"+t+"` is not a valid request type, must be one of: `"+e.join("`, `")+"`.")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(new t).withData(e)}}]),t}();e.default=c},7257:(t,e,r)=>{"use strict";var n=r(5401);var i=r(9034);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"D1",{enumerable:!0,get:function(){return a(i).default}})},4279:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guardAgainstReservedFieldName=function(t){if(-1!==r.indexOf(t))throw new Error("Field name "+t+" isn't allowed to be used in a Form or Errors instance.")};var r=e.reservedFieldNames=["__http","__options","__validateRequestType","clear","data","delete","errors","getError","getErrors","hasError","initial","onFail","only","onSuccess","patch","populate","post","processing","successful","put","reset","submit","withData","withErrors","withOptions"]},5447:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new FormData,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t||"undefined"===t||0===t.length)return e.append(r,t);for(var n in t)t.hasOwnProperty(n)&&a(e,i(r,n),t[n]);return e}function i(t,e){return t?t+"["+e+"]":e}function a(t,e,i){return i instanceof Date?t.append(e,i.toISOString()):i instanceof File?t.append(e,i,i.name):"boolean"==typeof i?t.append(e,i?"1":"0"):null===i?t.append(e,""):"object"!==(void 0===i?"undefined":r(i))?t.append(e,i):void n(i,t,e)}e.objectToFormData=n},5133:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5608);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var i=r(5447);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var a=r(4279);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}))},5608:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function n(t){return t instanceof File||t instanceof FileList}function i(t){if(null===t)return null;if(n(t))return t;if(Array.isArray(t)){var e=[];for(var a in t)t.hasOwnProperty(a)&&(e[a]=i(t[a]));return e}if("object"===(void 0===t?"undefined":r(t))){var o={};for(var s in t)t.hasOwnProperty(s)&&(o[s]=i(t[s]));return o}return t}e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isFile=n,e.merge=function(t,e){for(var r in e)t[r]=i(e[r])},e.cloneDeep=i},4195:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";t.exports=function(t){var a=this;if("function"!=typeof a||n.call(a)!==i)throw new TypeError(e+a);for(var o,s=r.call(arguments,1),h=function(){if(this instanceof o){var e=a.apply(this,s.concat(r.call(arguments)));return Object(e)===e?e:this}return a.apply(t,s.concat(r.call(arguments)))},l=Math.max(0,a.length-s.length),c=[],u=0;u<l;u++)c.push("$"+u);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(h),a.prototype){var d=function(){};d.prototype=a.prototype,o.prototype=new d,d.prototype=null}return o}},5316:(t,e,r)=>{"use strict";var n=r(4195);t.exports=Function.prototype.bind||n},3574:(t,e,r)=>{"use strict";var n,i=SyntaxError,a=Function,o=TypeError,s=function(t){try{return a('"use strict"; return ('+t+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(t){h=null}var l=function(){throw new o},c=h?function(){try{return l}catch(t){try{return h(arguments,"callee").get}catch(t){return l}}}():l,u=r(7342)(),d=Object.getPrototypeOf||function(t){return t.__proto__},f={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?d(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},v=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[e]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(5316),b=r(2812),_=m.call(Function.call,Array.prototype.concat),w=m.call(Function.apply,Array.prototype.splice),x=m.call(Function.call,String.prototype.replace),S=m.call(Function.call,String.prototype.slice),C=m.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(t){var e=S(t,0,1),r=S(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return x(t,P,(function(t,e,r,i){n[n.length]=r?x(i,k,"$1"):e||t})),n},A=function(t,e){var r,n=t;if(b(y,n)&&(n="%"+(r=y[n])[0]+"%"),b(g,n)){var a=g[n];if(a===f&&(a=v(n)),void 0===a&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:a}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/g,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=O(t),n=r.length>0?r[0]:"",a=A("%"+n+"%",e),s=a.name,l=a.value,c=!1,u=a.alias;u&&(n=u[0],w(r,_([0,1],u)));for(var d=1,f=!0;d<r.length;d+=1){var p=r[d],v=S(p,0,1),y=S(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===y||"'"===y||"`"===y)&&v!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(c=!0),b(g,s="%"+(n+="."+p)+"%"))l=g[s];else if(null!=l){if(!(p in l)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(h&&d+1>=r.length){var m=h(l,p);l=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:l[p]}else f=b(l,p),l=l[p];f&&!c&&(g[s]=l)}}return l}},7342:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(8156);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},8156:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},2812:(t,e,r)=>{"use strict";var n=r(5316);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},5368:(t,e,r)=>{var n=r(7003)(r(2857),"DataView");t.exports=n},2254:(t,e,r)=>{var n=r(3779),i=r(3451),a=r(2208),o=r(5655),s=r(5177);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=n,h.prototype.delete=i,h.prototype.get=a,h.prototype.has=o,h.prototype.set=s,t.exports=h},2420:(t,e,r)=>{var n=r(4323),i=r(235),a=r(2161),o=r(8371),s=r(9290);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=n,h.prototype.delete=i,h.prototype.get=a,h.prototype.has=o,h.prototype.set=s,t.exports=h},8373:(t,e,r)=>{var n=r(7003)(r(2857),"Map");t.exports=n},3489:(t,e,r)=>{var n=r(5734),i=r(4817),a=r(491),o=r(5359),s=r(8150);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=n,h.prototype.delete=i,h.prototype.get=a,h.prototype.has=o,h.prototype.set=s,t.exports=h},800:(t,e,r)=>{var n=r(7003)(r(2857),"Promise");t.exports=n},3106:(t,e,r)=>{var n=r(7003)(r(2857),"Set");t.exports=n},9855:(t,e,r)=>{var n=r(3489),i=r(3005),a=r(4465);function o(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},1123:(t,e,r)=>{var n=r(2420),i=r(5025),a=r(5189),o=r(9316),s=r(536),h=r(6287);function l(t){var e=this.__data__=new n(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=h,t.exports=l},5760:(t,e,r)=>{var n=r(2857).Symbol;t.exports=n},6102:(t,e,r)=>{var n=r(2857).Uint8Array;t.exports=n},8471:(t,e,r)=>{var n=r(7003)(r(2857),"WeakMap");t.exports=n},2137:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7344:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},6811:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}},3809:(t,e,r)=>{var n=r(1501),i=r(8033),a=r(3561),o=r(8370),s=r(3468),h=r(1073),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),c=!r&&i(t),u=!r&&!c&&o(t),d=!r&&!c&&!u&&h(t),f=r||c||u||d,p=f?n(t.length,String):[],g=p.length;for(var v in t)!e&&!l.call(t,v)||f&&("length"==v||u&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},2593:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},5846:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},7451:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},3210:(t,e,r)=>{var n=r(493),i=r(3519),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var o=t[e];a.call(t,e)&&i(o,r)&&(void 0!==r||e in t)||n(t,e,r)}},5108:(t,e,r)=>{var n=r(3519);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},493:(t,e,r)=>{var n=r(9236);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},8441:(t,e,r)=>{var n=r(6425),i=r(6699)(n);t.exports=i},6768:(t,e,r)=>{var n=r(8441);t.exports=function(t,e){var r=[];return n(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}},7946:(t,e,r)=>{var n=r(5846),i=r(859);t.exports=function t(e,r,a,o,s){var h=-1,l=e.length;for(a||(a=i),s||(s=[]);++h<l;){var c=e[h];r>0&&a(c)?r>1?t(c,r-1,a,o,s):n(s,c):o||(s[s.length]=c)}return s}},7151:(t,e,r)=>{var n=r(5722)();t.exports=n},6425:(t,e,r)=>{var n=r(7151),i=r(3894);t.exports=function(t,e){return t&&n(t,e,i)}},847:(t,e,r)=>{var n=r(2679),i=r(2152);t.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[i(e[r++])];return r&&r==a?t:void 0}},9818:(t,e,r)=>{var n=r(5846),i=r(3561);t.exports=function(t,e,r){var a=e(t);return i(t)?a:n(a,r(t))}},4885:(t,e,r)=>{var n=r(5760),i=r(3486),a=r(7851),o=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):a(t)}},3754:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},624:(t,e,r)=>{var n=r(4885),i=r(6843);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},9608:(t,e,r)=>{var n=r(2647),i=r(6843);t.exports=function t(e,r,a,o,s){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,a,o,t,s))}},2647:(t,e,r)=>{var n=r(1123),i=r(7957),a=r(5103),o=r(1803),s=r(1381),h=r(3561),l=r(8370),c=r(1073),u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,v,y){var m=h(t),b=h(e),_=m?d:s(t),w=b?d:s(e),x=(_=_==u?f:_)==f,S=(w=w==u?f:w)==f,C=_==w;if(C&&l(t)){if(!l(e))return!1;m=!0,x=!1}if(C&&!x)return y||(y=new n),m||c(t)?i(t,e,r,g,v,y):a(t,e,_,r,g,v,y);if(!(1&r)){var P=x&&p.call(t,"__wrapped__"),k=S&&p.call(e,"__wrapped__");if(P||k){var O=P?t.value():t,A=k?e.value():e;return y||(y=new n),v(O,A,r,g,y)}}return!!C&&(y||(y=new n),o(t,e,r,g,v,y))}},5635:(t,e,r)=>{var n=r(1123),i=r(9608);t.exports=function(t,e,r,a){var o=r.length,s=o,h=!a;if(null==t)return!s;for(t=Object(t);o--;){var l=r[o];if(h&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var c=(l=r[o])[0],u=t[c],d=l[1];if(h&&l[2]){if(void 0===u&&!(c in t))return!1}else{var f=new n;if(a)var p=a(u,d,c,t,e,f);if(!(void 0===p?i(d,u,3,a,f):p))return!1}}return!0}},5863:(t,e,r)=>{var n=r(3079),i=r(620),a=r(9323),o=r(6151),s=/^\[object .+?Constructor\]$/,h=Function.prototype,l=Object.prototype,c=h.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||i(t))&&(n(t)?d:s).test(o(t))}},7939:(t,e,r)=>{var n=r(4885),i=r(9470),a=r(6843),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&i(t.length)&&!!o[n(t)]}},9056:(t,e,r)=>{var n=r(8453),i=r(7538),a=r(2512),o=r(3561),s=r(1474);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?o(t)?i(t[0],t[1]):n(t):s(t)}},9199:(t,e,r)=>{var n=r(3323),i=r(3524),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},339:(t,e,r)=>{var n=r(9323),i=r(3323),a=r(7210),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&o.call(t,s))&&r.push(s);return r}},8453:(t,e,r)=>{var n=r(5635),i=r(8210),a=r(1055);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},7538:(t,e,r)=>{var n=r(9608),i=r(851),a=r(2794),o=r(7561),s=r(4986),h=r(1055),l=r(2152);t.exports=function(t,e){return o(t)&&s(e)?h(l(t),e):function(r){var o=i(r,t);return void 0===o&&o===e?a(r,t):n(e,o,3)}}},4402:(t,e,r)=>{var n=r(7375),i=r(2794);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},7375:(t,e,r)=>{var n=r(847),i=r(1647),a=r(2679);t.exports=function(t,e,r){for(var o=-1,s=e.length,h={};++o<s;){var l=e[o],c=n(t,l);r(c,l)&&i(h,a(l,t),c)}return h}},6655:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},6891:(t,e,r)=>{var n=r(847);t.exports=function(t){return function(e){return n(e,t)}}},1647:(t,e,r)=>{var n=r(3210),i=r(2679),a=r(3468),o=r(9323),s=r(2152);t.exports=function(t,e,r,h){if(!o(t))return t;for(var l=-1,c=(e=i(e,t)).length,u=c-1,d=t;null!=d&&++l<c;){var f=s(e[l]),p=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(l!=u){var g=d[f];void 0===(p=h?h(g,f,d):void 0)&&(p=o(g)?g:a(e[l+1])?[]:{})}n(d,f,p),d=d[f]}return t}},1192:(t,e,r)=>{var n=r(4399),i=r(9236),a=r(2512),o=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:a;t.exports=o},1501:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},7047:(t,e,r)=>{var n=r(5760),i=r(2593),a=r(3561),o=r(3716),s=n?n.prototype:void 0,h=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return i(e,t)+"";if(o(e))return h?h.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},1091:(t,e,r)=>{var n=r(4077),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},6791:t=>{t.exports=function(t){return function(e){return t(e)}}},4562:t=>{t.exports=function(t,e){return t.has(e)}},5404:(t,e,r)=>{var n=r(2512);t.exports=function(t){return"function"==typeof t?t:n}},2679:(t,e,r)=>{var n=r(3561),i=r(7561),a=r(6966),o=r(5894);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:a(o(t))}},7292:(t,e,r)=>{var n=r(2857)["__core-js_shared__"];t.exports=n},6699:(t,e,r)=>{var n=r(5898);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var a=r.length,o=e?a:-1,s=Object(r);(e?o--:++o<a)&&!1!==i(s[o],o,s););return r}}},5722:t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var h=o[t?s:++i];if(!1===r(a[h],h,a))break}return e}}},9236:(t,e,r)=>{var n=r(7003),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},7957:(t,e,r)=>{var n=r(9855),i=r(7451),a=r(4562);t.exports=function(t,e,r,o,s,h){var l=1&r,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var d=h.get(t),f=h.get(e);if(d&&f)return d==e&&f==t;var p=-1,g=!0,v=2&r?new n:void 0;for(h.set(t,e),h.set(e,t);++p<c;){var y=t[p],m=e[p];if(o)var b=l?o(m,y,p,e,t,h):o(y,m,p,t,e,h);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(e,(function(t,e){if(!a(v,e)&&(y===t||s(y,t,r,o,h)))return v.push(e)}))){g=!1;break}}else if(y!==m&&!s(y,m,r,o,h)){g=!1;break}}return h.delete(t),h.delete(e),g}},5103:(t,e,r)=>{var n=r(5760),i=r(6102),a=r(3519),o=r(7957),s=r(2391),h=r(7701),l=n?n.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,r,n,l,u,d){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&n;if(f||(f=h),t.size!=e.size&&!p)return!1;var g=d.get(t);if(g)return g==e;n|=2,d.set(t,e);var v=o(f(t),f(e),n,l,u,d);return d.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},1803:(t,e,r)=>{var n=r(5989),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,a,o,s){var h=1&r,l=n(t),c=l.length;if(c!=n(e).length&&!h)return!1;for(var u=c;u--;){var d=l[u];if(!(h?d in e:i.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=h;++u<c;){var y=t[d=l[u]],m=e[d];if(a)var b=h?a(m,y,d,e,t,s):a(y,m,d,t,e,s);if(!(void 0===b?y===m||o(y,m,r,a,s):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(t),s.delete(e),g}},2618:(t,e,r)=>{var n=r(8742),i=r(5697),a=r(756);t.exports=function(t){return a(i(t,void 0,n),t+"")}},3732:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},5989:(t,e,r)=>{var n=r(9818),i=r(9701),a=r(3894);t.exports=function(t){return n(t,a,i)}},4450:(t,e,r)=>{var n=r(9818),i=r(3943),a=r(5499);t.exports=function(t){return n(t,a,i)}},4440:(t,e,r)=>{var n=r(9286);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},8210:(t,e,r)=>{var n=r(4986),i=r(3894);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var a=e[r],o=t[a];e[r]=[a,o,n(o)]}return e}},7003:(t,e,r)=>{var n=r(5863),i=r(2452);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},1616:(t,e,r)=>{var n=r(4821)(Object.getPrototypeOf,Object);t.exports=n},3486:(t,e,r)=>{var n=r(5760),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var i=o.call(t);return n&&(e?t[s]=r:delete t[s]),i}},9701:(t,e,r)=>{var n=r(6811),i=r(5669),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),n(o(t),(function(e){return a.call(t,e)})))}:i;t.exports=s},3943:(t,e,r)=>{var n=r(5846),i=r(1616),a=r(9701),o=r(5669),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,a(t)),t=i(t);return e}:o;t.exports=s},1381:(t,e,r)=>{var n=r(5368),i=r(8373),a=r(800),o=r(3106),s=r(8471),h=r(4885),l=r(6151),c="[object Map]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=l(n),v=l(i),y=l(a),m=l(o),b=l(s),_=h;(n&&_(new n(new ArrayBuffer(1)))!=p||i&&_(new i)!=c||a&&_(a.resolve())!=u||o&&_(new o)!=d||s&&_(new s)!=f)&&(_=function(t){var e=h(t),r="[object Object]"==e?t.constructor:void 0,n=r?l(r):"";if(n)switch(n){case g:return p;case v:return c;case y:return u;case m:return d;case b:return f}return e}),t.exports=_},2452:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},575:(t,e,r)=>{var n=r(2679),i=r(8033),a=r(3561),o=r(3468),s=r(9470),h=r(2152);t.exports=function(t,e,r){for(var l=-1,c=(e=n(e,t)).length,u=!1;++l<c;){var d=h(e[l]);if(!(u=null!=t&&r(t,d)))break;t=t[d]}return u||++l!=c?u:!!(c=null==t?0:t.length)&&s(c)&&o(d,c)&&(a(t)||i(t))}},3779:(t,e,r)=>{var n=r(8044);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},3451:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},2208:(t,e,r)=>{var n=r(8044),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},5655:(t,e,r)=>{var n=r(8044),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},5177:(t,e,r)=>{var n=r(8044);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},859:(t,e,r)=>{var n=r(5760),i=r(8033),a=r(3561),o=n?n.isConcatSpreadable:void 0;t.exports=function(t){return a(t)||i(t)||!!(o&&t&&t[o])}},3468:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},7561:(t,e,r)=>{var n=r(3561),i=r(3716),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(o.test(t)||!a.test(t)||null!=e&&t in Object(e))}},9286:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},620:(t,e,r)=>{var n,i=r(7292),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},3323:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},4986:(t,e,r)=>{var n=r(9323);t.exports=function(t){return t==t&&!n(t)}},4323:t=>{t.exports=function(){this.__data__=[],this.size=0}},235:(t,e,r)=>{var n=r(5108),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},2161:(t,e,r)=>{var n=r(5108);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},8371:(t,e,r)=>{var n=r(5108);t.exports=function(t){return n(this.__data__,t)>-1}},9290:(t,e,r)=>{var n=r(5108);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},5734:(t,e,r)=>{var n=r(2254),i=r(2420),a=r(8373);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},4817:(t,e,r)=>{var n=r(4440);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},491:(t,e,r)=>{var n=r(4440);t.exports=function(t){return n(this,t).get(t)}},5359:(t,e,r)=>{var n=r(4440);t.exports=function(t){return n(this,t).has(t)}},8150:(t,e,r)=>{var n=r(4440);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},2391:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},1055:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},9444:(t,e,r)=>{var n=r(8469);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},8044:(t,e,r)=>{var n=r(7003)(Object,"create");t.exports=n},3524:(t,e,r)=>{var n=r(4821)(Object.keys,Object);t.exports=n},7210:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},7226:(t,e,r)=>{t=r.nmd(t);var n=r(3732),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i&&n.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s},7851:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},4821:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5697:(t,e,r)=>{var n=r(2137),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,s=i(a.length-e,0),h=Array(s);++o<s;)h[o]=a[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=a[o];return l[e]=r(h),n(t,this,l)}}},2857:(t,e,r)=>{var n=r(3732),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();t.exports=a},3005:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},4465:t=>{t.exports=function(t){return this.__data__.has(t)}},7701:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},756:(t,e,r)=>{var n=r(1192),i=r(1117)(n);t.exports=i},1117:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),a=16-(i-n);if(n=i,a>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},5025:(t,e,r)=>{var n=r(2420);t.exports=function(){this.__data__=new n,this.size=0}},5189:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},9316:t=>{t.exports=function(t){return this.__data__.get(t)}},536:t=>{t.exports=function(t){return this.__data__.has(t)}},6287:(t,e,r)=>{var n=r(2420),i=r(8373),a=r(3489);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(t,e),this.size=r.size,this}},6966:(t,e,r)=>{var n=r(9444),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(a,"$1"):r||t)})),e}));t.exports=o},2152:(t,e,r)=>{var n=r(3716);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},6151:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},4077:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},4399:t=>{t.exports=function(t){return function(){return t}}},6034:(t,e,r)=>{var n=r(9323),i=r(1956),a=r(1785),o=Math.max,s=Math.min;t.exports=function(t,e,r){var h,l,c,u,d,f,p=0,g=!1,v=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var r=h,n=l;return h=l=void 0,p=e,u=t.apply(n,r)}function b(t){return p=t,d=setTimeout(w,e),g?m(t):u}function _(t){var r=t-f;return void 0===f||r>=e||r<0||v&&t-p>=c}function w(){var t=i();if(_(t))return x(t);d=setTimeout(w,function(t){var r=e-(t-f);return v?s(r,c-(t-p)):r}(t))}function x(t){return d=void 0,y&&h?m(t):(h=l=void 0,u)}function S(){var t=i(),r=_(t);if(h=arguments,l=this,f=t,r){if(void 0===d)return b(f);if(v)return clearTimeout(d),d=setTimeout(w,e),m(f)}return void 0===d&&(d=setTimeout(w,e)),u}return e=a(e)||0,n(r)&&(g=!!r.leading,c=(v="maxWait"in r)?o(a(r.maxWait)||0,e):c,y="trailing"in r?!!r.trailing:y),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,h=f=l=d=void 0},S.flush=function(){return void 0===d?u:x(i())},S}},1423:(t,e,r)=>{t.exports=r(7267)},3519:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},2725:(t,e,r)=>{var n=r(6811),i=r(6768),a=r(9056),o=r(3561);t.exports=function(t,e){return(o(t)?n:i)(t,a(e,3))}},8742:(t,e,r)=>{var n=r(7946);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},7267:(t,e,r)=>{var n=r(7344),i=r(8441),a=r(5404),o=r(3561);t.exports=function(t,e){return(o(t)?n:i)(t,a(e))}},4442:(t,e,r)=>{var n=r(7151),i=r(5404),a=r(5499);t.exports=function(t,e){return null==t?t:n(t,i(e),a)}},851:(t,e,r)=>{var n=r(847);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},2794:(t,e,r)=>{var n=r(3754),i=r(575);t.exports=function(t,e){return null!=t&&i(t,e,n)}},2512:t=>{t.exports=function(t){return t}},8033:(t,e,r)=>{var n=r(624),i=r(6843),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,h=n(function(){return arguments}())?n:function(t){return i(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=h},3561:t=>{var e=Array.isArray;t.exports=e},5898:(t,e,r)=>{var n=r(3079),i=r(9470);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},8370:(t,e,r)=>{t=r.nmd(t);var n=r(2857),i=r(857),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,s=o&&o.exports===a?n.Buffer:void 0,h=(s?s.isBuffer:void 0)||i;t.exports=h},759:(t,e,r)=>{var n=r(9199),i=r(1381),a=r(8033),o=r(3561),s=r(5898),h=r(8370),l=r(3323),c=r(1073),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||h(t)||c(t)||a(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!n(t).length;for(var r in t)if(u.call(t,r))return!1;return!0}},3079:(t,e,r)=>{var n=r(4885),i=r(9323);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},9470:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},5543:t=>{t.exports=function(t){return null==t}},9323:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},6843:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3716:(t,e,r)=>{var n=r(4885),i=r(6843);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},1073:(t,e,r)=>{var n=r(7939),i=r(6791),a=r(7226),o=a&&a.isTypedArray,s=o?i(o):n;t.exports=s},3894:(t,e,r)=>{var n=r(3809),i=r(9199),a=r(5898);t.exports=function(t){return a(t)?n(t):i(t)}},5499:(t,e,r)=>{var n=r(3809),i=r(339),a=r(5898);t.exports=function(t){return a(t)?n(t,!0):i(t)}},8469:(t,e,r)=>{var n=r(3489);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},1956:(t,e,r)=>{var n=r(2857);t.exports=function(){return n.Date.now()}},3906:(t,e,r)=>{var n=r(4402),i=r(2618)((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},6534:(t,e,r)=>{var n=r(2593),i=r(9056),a=r(7375),o=r(4450);t.exports=function(t,e){if(null==t)return{};var r=n(o(t),(function(t){return[t]}));return e=i(e),a(t,r,(function(t,r){return e(t,r[0])}))}},1474:(t,e,r)=>{var n=r(6655),i=r(6891),a=r(7561),o=r(2152);t.exports=function(t){return a(t)?n(o(t)):i(t)}},5669:t=>{t.exports=function(){return[]}},857:t=>{t.exports=function(){return!1}},1785:(t,e,r)=>{var n=r(1091),i=r(9323),a=r(3716),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,h=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=s.test(t);return r||h.test(t)?l(t.slice(2),r?2:8):o.test(t)?NaN:+t}},5894:(t,e,r)=>{var n=r(7047);t.exports=function(t){return null==t?"":n(t)}},2689:(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=n&&i&&"function"==typeof i.get?i.get:null,o=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,h=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&h&&"function"==typeof h.get?h.get:null,c=s&&Set.prototype.forEach,u="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,g=Object.prototype.toString,v=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,x=RegExp.prototype.test,S=Array.prototype.concat,C=Array.prototype.join,P=Array.prototype.slice,k=Math.floor,O="function"==typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,T="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,R=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||x.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-k(-t):k(t);if(n!==t){var i=String(n),a=m.call(e,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,r,"$&_")}var L=r(8859),D=L.custom,F=z(D)?D:null;function G(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function N(t){return b.call(String(t),/"/g,"&quot;")}function B(t){return!("[object Array]"!==V(t)||j&&"object"==typeof t&&j in t)}function W(t){return!("[object RegExp]"!==V(t)||j&&"object"==typeof t&&j in t)}function z(t){if(T)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!E)return!1;try{return E.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,i){var s=r||{};if(U(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(U(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!U(s,"customInspect")||s.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(U(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(U(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=s.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return X(e,s);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var _=String(e);return g?I(e,_):_}if("bigint"==typeof e){var x=String(e)+"n";return g?I(e,x):x}var k=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=k&&k>0&&"object"==typeof e)return B(e)?"[Array]":"[Object]";var A=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=C.call(Array(t.indent+1)," ")}return{base:r,prev:C.call(Array(e+1),r)}}(s,n);if(void 0===i)i=[];else if(q(i,e)>=0)return"[Circular]";function D(e,r,a){if(r&&(i=P.call(i)).push(r),a){var o={depth:s.depth};return U(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),t(e,o,n+1,i)}return t(e,s,n+1,i)}if("function"==typeof e&&!W(e)){var H=function(t){if(t.name)return t.name;var e=y.call(v.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),Y=Z(e,D);return"[Function"+(H?": "+H:" (anonymous)")+"]"+(Y.length>0?" { "+C.call(Y,", ")+" }":"")}if(z(e)){var tt=T?b.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):E.call(e);return"object"!=typeof e||T?tt:$(tt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var et="<"+w.call(String(e.nodeName)),rt=e.attributes||[],nt=0;nt<rt.length;nt++)et+=" "+rt[nt].name+"="+G(N(rt[nt].value),"double",s);return et+=">",e.childNodes&&e.childNodes.length&&(et+="..."),et+="</"+w.call(String(e.nodeName))+">"}if(B(e)){if(0===e.length)return"[]";var it=Z(e,D);return A&&!function(t){for(var e=0;e<t.length;e++)if(q(t[e],"\n")>=0)return!1;return!0}(it)?"["+Q(it,A)+"]":"[ "+C.call(it,", ")+" ]"}if(function(t){return!("[object Error]"!==V(t)||j&&"object"==typeof t&&j in t)}(e)){var at=Z(e,D);return"cause"in Error.prototype||!("cause"in e)||M.call(e,"cause")?0===at.length?"["+String(e)+"]":"{ ["+String(e)+"] "+C.call(at,", ")+" }":"{ ["+String(e)+"] "+C.call(S.call("[cause]: "+D(e.cause),at),", ")+" }"}if("object"==typeof e&&h){if(F&&"function"==typeof e[F]&&L)return L(e,{depth:k-n});if("symbol"!==h&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!a||!t||"object"!=typeof t)return!1;try{a.call(t);try{l.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ot=[];return o.call(e,(function(t,r){ot.push(D(r,e,!0)+" => "+D(t,e))})),K("Map",a.call(e),ot,A)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t);try{a.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var st=[];return c.call(e,(function(t){st.push(D(t,e))})),K("Set",l.call(e),st,A)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t,u);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return J("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{u.call(t,u)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return J("WeakSet");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{return f.call(t),!0}catch(t){}return!1}(e))return J("WeakRef");if(function(t){return!("[object Number]"!==V(t)||j&&"object"==typeof t&&j in t)}(e))return $(D(Number(e)));if(function(t){if(!t||"object"!=typeof t||!O)return!1;try{return O.call(t),!0}catch(t){}return!1}(e))return $(D(O.call(e)));if(function(t){return!("[object Boolean]"!==V(t)||j&&"object"==typeof t&&j in t)}(e))return $(p.call(e));if(function(t){return!("[object String]"!==V(t)||j&&"object"==typeof t&&j in t)}(e))return $(D(String(e)));if(!function(t){return!("[object Date]"!==V(t)||j&&"object"==typeof t&&j in t)}(e)&&!W(e)){var ht=Z(e,D),lt=R?R(e)===Object.prototype:e instanceof Object||e.constructor===Object,ct=e instanceof Object?"":"null prototype",ut=!lt&&j&&Object(e)===e&&j in e?m.call(V(e),8,-1):ct?"Object":"",dt=(lt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ut||ct?"["+C.call(S.call([],ut||[],ct||[]),": ")+"] ":"");return 0===ht.length?dt+"{}":A?dt+"{"+Q(ht,A)+"}":dt+"{ "+C.call(ht,", ")+" }"}return String(e)};var H=Object.prototype.hasOwnProperty||function(t){return t in this};function U(t,e){return H.call(t,e)}function V(t){return g.call(t)}function q(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function X(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return X(m.call(t,0,e.maxStringLength),e)+n}return G(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",e)}function Y(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+_.call(e.toString(16))}function $(t){return"Object("+t+")"}function J(t){return t+" { ? }"}function K(t,e,r,n){return t+" ("+e+") {"+(n?Q(r,n):C.call(r,", "))+"}"}function Q(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+C.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=B(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=U(t,i)?e(t[i],t):""}var a,o="function"==typeof A?A(t):[];if(T){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var h in t)U(t,h)&&(r&&String(Number(h))===h&&h<t.length||T&&a["$"+h]instanceof Symbol||(x.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if("function"==typeof A)for(var l=0;l<o.length;l++)M.call(t,o[l])&&n.push("["+e(o[l])+"]: "+e(t[o[l]],t));return n}},5592:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,h=[],l=!1,c=-1;function u(){l&&s&&(l=!1,s.length?h=s.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=o(u);l=!0;for(var e=h.length;e;){for(s=h,h=[];++c<e;)s&&s[c].run();c=-1,e=h.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new f(t,e)),1!==h.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},6738:t=>{"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC1738",i="RFC3986";t.exports={default:i,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:n,RFC3986:i}},8009:(t,e,r)=>{"use strict";var n=r(5029),i=r(2808),a=r(6738);t.exports={formats:a,parse:i,stringify:n}},2808:(t,e,r)=>{"use strict";var n=r(4117),i=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},h=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},l=function(t,e,r,n){if(t){var a=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(a),l=s?a.slice(0,s.index):a,c=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var u=0;r.depth>0&&null!==(s=o.exec(a))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+a.slice(s.index)+"]"),function(t,e,r,n){for(var i=n?e:h(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if("[]"===s&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=i:"__proto__"!==l&&(o[l]=i):o={0:i}}i=o}return i}(c,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:o.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var r,l={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,d=c.split(e.delimiter,u),f=-1,p=e.charset;if(e.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?p="utf-8":"utf8=%26%2310003%3B"===d[r]&&(p="iso-8859-1"),f=r,r=d.length);for(r=0;r<d.length;++r)if(r!==f){var g,v,y=d[r],m=y.indexOf("]="),b=-1===m?y.indexOf("="):m+1;-1===b?(g=e.decoder(y,o.decoder,p,"key"),v=e.strictNullHandling?null:""):(g=e.decoder(y.slice(0,b),o.decoder,p,"key"),v=n.maybeMap(h(y.slice(b+1),e),(function(t){return e.decoder(t,o.decoder,p,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===p&&(v=s(v)),y.indexOf("[]=")>-1&&(v=a(v)?[v]:v),i.call(l,g)?l[g]=n.combine(l[g],v):l[g]=v}return l}(t,r):t,u=r.plainObjects?Object.create(null):{},d=Object.keys(c),f=0;f<d.length;++f){var p=d[f],g=l(p,c[p],r,"string"==typeof t);u=n.merge(u,g,r)}return!0===r.allowSparse?u:n.compact(u)}},5029:(t,e,r)=>{"use strict";var n=r(2251),i=r(4117),a=r(6738),o=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},h=Array.isArray,l=String.prototype.split,c=Array.prototype.push,u=function(t,e){c.apply(t,h(e)?e:[e])},d=Date.prototype.toISOString,f=a.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:a.formatters[f],indices:!1,serializeDate:function(t){return d.call(t)},skipNulls:!1,strictNullHandling:!1},g={},v=function t(e,r,a,o,s,c,d,f,v,y,m,b,_,w,x,S){for(var C,P=e,k=S,O=0,A=!1;void 0!==(k=k.get(g))&&!A;){var E=k.get(e);if(O+=1,void 0!==E){if(E===O)throw new RangeError("Cyclic object value");A=!0}void 0===k.get(g)&&(O=0)}if("function"==typeof f?P=f(r,P):P instanceof Date?P=m(P):"comma"===a&&h(P)&&(P=i.maybeMap(P,(function(t){return t instanceof Date?m(t):t}))),null===P){if(s)return d&&!w?d(r,p.encoder,x,"key",b):r;P=""}if("string"==typeof(C=P)||"number"==typeof C||"boolean"==typeof C||"symbol"==typeof C||"bigint"==typeof C||i.isBuffer(P)){if(d){var T=w?r:d(r,p.encoder,x,"key",b);if("comma"===a&&w){for(var j=l.call(String(P),","),M="",R=0;R<j.length;++R)M+=(0===R?"":",")+_(d(j[R],p.encoder,x,"value",b));return[_(T)+(o&&h(P)&&1===j.length?"[]":"")+"="+M]}return[_(T)+"="+_(d(P,p.encoder,x,"value",b))]}return[_(r)+"="+_(String(P))]}var I,L=[];if(void 0===P)return L;if("comma"===a&&h(P))I=[{value:P.length>0?P.join(",")||null:void 0}];else if(h(f))I=f;else{var D=Object.keys(P);I=v?D.sort(v):D}for(var F=o&&h(P)&&1===P.length?r+"[]":r,G=0;G<I.length;++G){var N=I[G],B="object"==typeof N&&void 0!==N.value?N.value:P[N];if(!c||null!==B){var W=h(P)?"function"==typeof a?a(F,N):F:F+(y?"."+N:"["+N+"]");S.set(e,O);var z=n();z.set(g,S),u(L,t(B,W,a,o,s,c,d,f,v,y,m,b,_,w,x,z))}}return L};t.exports=function(t,e){var r,i=t,l=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if(void 0!==t.format){if(!o.call(a.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=a.formatters[r],i=p.filter;return("function"==typeof t.filter||h(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof l.filter?i=(0,l.filter)("",i):h(l.filter)&&(r=l.filter);var c,d=[];if("object"!=typeof i||null===i)return"";c=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=s[c];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===f&&e&&e.commaRoundTrip;r||(r=Object.keys(i)),l.sort&&r.sort(l.sort);for(var y=n(),m=0;m<r.length;++m){var b=r[m];l.skipNulls&&null===i[b]||u(d,v(i[b],b,f,g,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,y))}var _=d.join(l.delimiter),w=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),_.length>0?w+_:""}},4117:(t,e,r)=>{"use strict";var n=r(6738),i=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],o=i.obj[i.prop],s=Object.keys(o),h=0;h<s.length;++h){var l=s[h],c=o[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:o,prop:l}),r.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(a(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,i,a){if(0===t.length)return t;var s=t;if("symbol"==typeof t?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var h="",l=0;l<s.length;++l){var c=s.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===n.RFC1738&&(40===c||41===c)?h+=s.charAt(l):c<128?h+=o[c]:c<2048?h+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?h+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(l)),h+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return h},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(a(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(a(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return a(e)&&!a(r)&&(o=s(e,n)),a(e)&&a(r)?(r.forEach((function(r,a){if(i.call(e,a)){var o=e[a];o&&"object"==typeof o&&r&&"object"==typeof r?e[a]=t(o,r,n):e.push(r)}else e[a]=r})),e):Object.keys(r).reduce((function(e,a){var o=r[a];return i.call(e,a)?e[a]=t(e[a],o,n):e[a]=o,e}),o)}}},2251:(t,e,r)=>{"use strict";var n=r(3574),i=r(7571),a=r(2689),o=n("%TypeError%"),s=n("%WeakMap%",!0),h=n("%Map%",!0),l=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),u=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),g=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new o("Side channel does not contain "+a(t))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(t)return l(t,n)}else if(h){if(e)return d(e,n)}else if(r)return function(t,e){var r=g(t,e);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(t)return u(t,n)}else if(h){if(e)return p(e,n)}else if(r)return function(t,e){return!!g(t,e)}(r,n);return!1},set:function(n,i){s&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new s),c(t,n,i)):h?(e||(e=new h),f(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=g(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},8859:()=>{},6018:t=>{"use strict";t.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var a=r[t]={id:t,loaded:!1,exports:{}};return e[t](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,t=[],n.O=(e,r,i,a)=>{if(!r){var o=1/0;for(c=0;c<t.length;c++){for(var[r,i,a]=t[c],s=!0,h=0;h<r.length;h++)(!1&a||o>=a)&&Object.keys(n.O).every((t=>n.O[t](r[h])))?r.splice(h--,1):(s=!1,a<o&&(o=a));if(s){t.splice(c--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,i,a]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={175:0,546:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var i,a,[o,s,h]=r,l=0;if(o.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(h)var c=h(n)}for(e&&e(r);l<o.length;l++)a=o[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},r=self.webpackChunkyax_configurationjson=self.webpackChunkyax_configurationjson||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.O(void 0,[546],(()=>n(1996)));var i=n.O(void 0,[546],(()=>n(6381)));i=n.O(i)})();